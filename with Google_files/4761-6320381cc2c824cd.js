"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4761],{8661:function(e,n,t){t.d(n,{ET:function(){return i},LB:function(){return a},VN:function(){return c},VY:function(){return r},WJ:function(){return o},rj:function(){return s}});var i="/generate",r="ai-generate",o=2,s=2,c=400,a={DESIGNER__HELLO:0,USER__OUTPUT_FORMAT_INPUT:1,DESIGNER__TOPIC:2,USER__TOPIC_INPUT:3,DESIGNER__OUTLINE:4,USER__OUTLINE_INPUT:5}},55562:function(e,n,t){t.d(n,{R:function(){return C},c:function(){return y}});var i=t(20406),r=t(95235),o=t(81333),s=t(28526),c=t.n(s),a=t(55452),l=t(55479),d=t(5632),u=t(2784),p=t(23313),f=t(98875),x=t(20252),h=t(36738),m=t(95173),j=t(33295),v=t(10710),g=t(52322);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var C={example_deck_clone_toast:p.L17.DuplicateInspiration,import:p.L17.ImportGoogleDoc,blank:p.L17.Blank,template_browser:p.L17.DuplicateTemplate,get_started_modal:p.L17.Blank,template_modal_griditem:p.L17.DuplicateTemplate,template_dashboard_griditem:p.L17.DuplicateTemplate,template_modal_preview:p.L17.DuplicateTemplate,template_modal_preview_create_theme:p.L17.DuplicateTemplate,"slash-new":p.L17.SlashNew,editor_toolbar_doc_menu_duplicate:p.L17.DuplicateDoc,dashboard_docs_view_duplicate:p.L17.DuplicateDoc,ai_generated:p.L17.AiGenerated,ai_generated_advanced:p.L17.AiGenerated,sites_add_page:p.L17.SitesAddPage},y=function(){var e=(0,v.SE)(),n=e.user,t=e.currentWorkspace,s=(0,f.ye)("cardLayoutsEnabled"),y=(0,p.CsQ)(),O=(0,o.Z)(y,2),_=O[0],w=O[1],A=w.data,I=w.loading,P=(0,d.useRouter)(),k=P.push,D=P.replace,E=(0,l.p)();return[(0,u.useCallback)(function(e){var o,l,d=null==n?void 0:null===(l=n.settings)||void 0===l?void 0:l.needsEditorOnboarding,u=e.source,p=null==e?void 0:e.channelId,f=(null==e?void 0:e.historyFn)==="replace"?D:k,v=d?"quickstart":"empty";if(!(null!=t&&t.id)){console.error("[createDocAndNavigate] No currentWorkspace found");return}var y={cardLayoutsEnabled:s},O=null!=e&&e.document?e.document:"empty"===v?(0,h.R$)(n,{docFlags:y}):(0,h.VK)(n,{docFlags:y}),w=(0,j.q)(O);return console.debug("[createDocAndNavigate] Creating doc",{document:O,encodedDocument:w}),_({variables:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({workspaceId:null==t?void 0:t.id,title:(null==e?void 0:e.title)||"",source:C[e.source],initialContent:{ydoc:w,schemaVersion:m.bI,editors:[null==n?void 0:n.id]}},p?{channels:[{channelId:p}]}:{})}).then((o=(0,i.Z)(c().mark(function e(n){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.data,(0,x.Q)({doc_id:null==t?void 0:t.createDoc.id,source:u,channel:p||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==t?void 0:t.createDoc.id),f("/docs/".concat(null==t?void 0:t.createDoc.id).concat(d?"?tour=true":""));case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})).catch(function(e){console.error("[createDocAndNavigate]",e),E({title:(0,g.jsx)(a.cC,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[s,_,null==t?void 0:t.id,k,D,E,n]),{data:A,loading:I}]}},70204:function(e,n,t){t.d(n,{p:function(){return x}});var i=t(95235),r=t(65742),o=t(54073),s=t.n(o),c=t(30764),a=t(2784),l=t(98875),d=t(46358),u=t(12691),p=t(65185);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=(0,d.TL)(),i=(0,l.ye)("cardTextComputedEnabled");(0,a.useEffect)(function(){if(n&&i){var e=s()(function(){var e={};n.state.doc.descendants(function(t,i){if((0,u.KH)(t)&&t.attrs.id){var o=t.toJSON(),s=(0,r.getCardTitle)(o),c=n.state.doc.resolve(i),a=0===c.parentOffset&&1===c.depth;e[t.attrs.id]={title:s,text:h(n.schema,o,s),isFirstCard:a}}return!0}),t((0,p.uD)({localCardTextMap:e}))},1e3);return e(),n.on("update",e),function(){n.off("update",e)}}},[n,t,i]),(0,a.useEffect)(function(){e&&t((0,p.eJ)({cards:e}))},[t,e]),(0,a.useEffect)(function(){return function(){t((0,p.mc)())}},[])},h=function(e,n,t){var o,s=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n);s.content=null===(o=s.content)||void 0===o?void 0:o.map(function(e){if("card"!==e.type)return e;var n=(0,r.getCardTitle)(e);return{type:"paragraph",content:n?[{type:"text",text:n}]:[]}});var a=c.NB.fromJSON(e,s),l=a.textBetween(0,a.content.size,"\n\n",function(e){var n=e.type.name;return m[n]&&m[n](e)||" "});return t?(0,r.removeTitle)(l,t):l},m={text:function(e){return e.text},emoji:function(e){return e.attrs.native},embed:function(e){var n=e.attrs,t=n.meta,i=n.sourceUrl,r=n.url;return(null==t?void 0:t.title)||i||r||void 0},mention:function(e){return"@"+e.attrs.label},video:function(e){var n=e.attrs,t=n.meta,i=n.sourceUrl,r=n.embedUrl;return(null==t?void 0:t.title)||i||r||void 0}}},64288:function(e,n,t){t.d(n,{F3:function(){return m},c8:function(){return j}});var i=t(68769);t(10550),t(70916);var r=t(99060),o=t(95235),s=t(58678),c=t(2784),a=t(98875),l=function(e,n){var t=(0,s.rN)(),r=t.setIsOpen,o=t.setSteps,a=t.setMeta,l=t.setCurrentStep;return{startTour:(0,c.useCallback)(function(e){void 0!==e&&l(e),r(!0),a&&a(i.X.DOC_EDITOR),o&&o(n)},[l,r,a,o,n])}},d=t(1368),u=t(32333),p=t(17477),f=t(51823);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){(0,o.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var m=function(){var e=(0,a.ye)("aiChat"),n=(0,a.ye)("filmstrip"),t=(0,c.useMemo)(function(){return(0,r.aq)({aiChat:e,filmstrip:n})},[e,n]),x=(0,u.z$)(),m=l(i.X.DOC_EDITOR,t).startTour,j=(0,s.rN)().setIsOpen;(0,c.useEffect)(function(){"true"===(0,f.SJ)()[i.n]&&(0,p.u0)(t[1].selector).then(function(){m(),null==x||x.track(u.AA.DOC_EDITOR_TOUR_STARTED,{source:"queryParam"}),(0,d.lO)({query:h(h({},(0,f.SJ)()),{},(0,o.Z)({},i.n,void 0)),emitChange:!1})})},[x,m,t]),(0,c.useEffect)(function(){return function(){j(!1)}},[j])},j=function(){var e=(0,a.ye)("aiChat"),n=(0,a.ye)("filmstrip"),t=(0,c.useMemo)(function(){return(0,r.aq)({aiChat:e,filmstrip:n})},[e,n]);return{startTour:l(i.X.DOC_EDITOR,t).startTour}}},11197:function(e,n,t){t.d(n,{C:function(){return ea}});var i=t(81333),r=t(45029),o=t(27037),s=t(64256),c=t(68921),a=t(48079),l=t(58975),d=t(16686),u=t(29106),p=t(36178),f=t(55452),x=t(87254),h=t(75944),m=t(9088),j=t(30893),v=t(67887),g=t(53738),b=t(40771),C=t(91930),y=t(82904),O=t(84103),_=t(95258),w=t(49929),A=t(55966),I=t(2784),P=t(43997),k=t(23313),D=t(98875),E=t(64288),R=t(21735),N=t(20406),S=t(28526),T=t.n(S),M=t(55479),G=t(20010),L=t(56915),U=t(48273),z=t(92619),Z=t(64827),F=t(2167),V=t(2046),W=t(70287),Y=t(80353),$=t(76648),q=t(45650),K=t(62849),B=t(40315),H=t(10710),J=t(96214),X=t(18445),Q=t(52322),ee=function(e){var n,t=e.onClose,i=(0,M.p)(),r=(0,H.SE)().user,o=(0,I.useState)(!1),s=o[0],c=o[1],a=(0,H.SE)().setSettings,l=(0,J.l)(),d=(0,I.useMemo)(function(){return l},[]),u=(0,I.useState)(d),p=u[0],x=u[1];(0,X.m)(p);var h=(0,I.useCallback)((0,N.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,null==a?void 0:a({set:{locale:p}});case 4:i({title:(0,Q.jsx)(f.cC,{id:"RRo9kN"}),position:"top",status:"success",isClosable:!0,duration:3e3}),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error('[StandaloneLocaleModal.onSave] Error updating language for user with id "'.concat(null==r?void 0:r.id,'"'),e.t0.message);case 11:c(!1);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),[p,t,a,i,null==r?void 0:r.id]),m=p!==(null==r?void 0:null===(n=r.settings)||void 0===n?void 0:n.locale);return(0,Q.jsx)(A.Wk,{isDark:!1,children:(0,Q.jsxs)(G.u_,{isOpen:!0,onClose:t,children:[(0,Q.jsx)(L.Z,{}),(0,Q.jsxs)(U.h,{children:[(0,Q.jsx)(z.x,{children:(0,Q.jsx)(f.cC,{id:"+DEogc"})}),(0,Q.jsx)(Z.o,{}),(0,Q.jsx)(F.f,{children:(0,Q.jsxs)(V.NI,{children:[(0,Q.jsx)(W.l,{children:(0,Q.jsx)(f.cC,{id:"M3JKNC"})}),(0,Q.jsx)(K.p,{selectedLocale:B.w$[p],onLocaleSelect:x})]})}),(0,Q.jsx)(Y.m,{children:m?(0,Q.jsxs)($.h,{children:[(0,Q.jsx)(q.z,{variant:"ghost",onClick:t,children:(0,Q.jsx)(f.cC,{id:"dEgA5A"})}),(0,Q.jsx)(q.z,{variant:"solid",onClick:h,isLoading:s,children:(0,Q.jsx)(f.cC,{id:"tfDRzk"})})]}):(0,Q.jsx)(q.z,{variant:"plain",onClick:t,children:(0,Q.jsx)(f.cC,{id:"yz7wBu"})})})]})]})})},en=t(85422),et=t(85545),ei=t(32333),er=t(32736),eo=t(93858),es=t(17815),ec=t(88963),ea=(0,I.memo)(function(e){var n=e.showShortcuts,t=e.showTourReplay,N=(0,E.c8)().startTour,S=(0,P.I0)(),T=(0,k.$gs)().isConnected,M=(0,D.ye)("intercom"),G=(0,J.l)(),L=(0,h.q)(),U=L.isOpen,z=L.onOpen,Z=L.onClose,F=(0,h.q)({id:"locale-modal"}),V=F.isOpen,W=F.onOpen,Y=F.onClose,$=(0,eo._)("hasUnreadIntercom",!1),q=(0,i.Z)($,2),K=q[0],H=q[1],X=(0,ei.z$)(),ea=window.Intercom,el=(0,I.useCallback)(function(){(0,en.pU)(),H(!1),S((0,et.YZ)({isOpen:!0}))},[S,H]),ed=(0,er.Yy)();return(0,I.useEffect)(function(){if(ea){ea("onHide",function(){S((0,et.YZ)({isOpen:!1}))});var e=setInterval(function(){document.querySelector("iframe.intercom-borderless-frame")&&H(!0)},1e3);return function(){ea("hide"),clearInterval(e)}}},[S,ea,H]),(0,Q.jsx)(es.H,{children:(0,Q.jsxs)(A.Wk,{isDark:ed,children:[(0,Q.jsxs)(m.v,{children:[(0,Q.jsx)(j.j,{"data-guider-highlight":"default-help-widget-activator",as:v.h,isRound:!0,position:"relative",size:"md","aria-label":x.ag._({id:"c3XJ18"}),icon:K?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(g.Cd,{position:"absolute",size:2.5,bg:"red.400",top:0,right:0}),(0,Q.jsx)(w.G,{icon:c.qm,className:"fa-beat-fade"})]}):(0,Q.jsx)(w.G,{icon:p.Ps})}),(0,Q.jsxs)(b.q,{children:[(0,Q.jsxs)(C.k,{children:[(void 0===n||n)&&(0,Q.jsx)(y.s,{onClick:z,icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:u.UF}),children:(0,Q.jsx)(f.cC,{id:"CTqTgr"})}),(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"https://gamma.app/public/Change-Log-awopg3inl2eo3b3?mode=doc#card-7l4mxahmsc10wrp",target:"_blank",icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:d.Jy}),children:(0,Q.jsx)(f.cC,{id:"3ePd3I"})}),(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"https://help.gamma.app",target:"_blank",icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:l.MY}),children:(0,Q.jsx)(f.cC,{id:"/lDBHm"})}),void 0!==t&&t&&(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},onClick:function(){null==X||X.track(ei.AA.DOC_EDITOR_TOUR_STARTED,{source:"help-widget"}),N(0)},icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:a.Wx}),"data-guider-highlight":"replay-intro-tour",children:(0,Q.jsx)(f.cC,{id:"/cFTPs"})})]}),(0,Q.jsx)(_.R,{}),(0,Q.jsxs)(C.k,{children:[M&&T?(0,Q.jsx)(y.s,{icon:K?(0,Q.jsxs)(g.xu,{position:"relative",children:[(0,Q.jsx)(g.Cd,{position:"absolute",size:1.5,bg:"red.400",top:0,right:-1}),(0,Q.jsx)(w.G,{fixedWidth:!0,icon:c.qm,className:"fa-beat-fade"})]}):(0,Q.jsx)(w.G,{fixedWidth:!0,icon:s.RR}),onClick:el,children:(0,Q.jsx)(f.cC,{id:"Bhgd0l"})}):(0,Q.jsx)(y.s,{icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:o.FU}),as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"mailto:".concat(R.p),children:(0,Q.jsx)(f.cC,{id:"A0C9La"})}),(0,Q.jsx)(_.R,{}),(0,Q.jsx)(y.s,{icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:r.Uv}),onClick:W,children:B.w$[G].displayName})]})]}),(0,Q.jsx)(ec.J,{isOpen:U,onClose:Z})]}),V&&(0,Q.jsx)(ee,{onClose:Y})]})})});ea.displayName="DefaultHelpWidget"},17815:function(e,n,t){t.d(n,{H:function(){return f}});var i=t(95235),r=t(82269),o=t(53738),s=t(2784),c=t(9734),a=t(8812),l=t(52322),d=["children"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=(0,s.memo)(function(e){var n=e.children,t=(0,r.Z)(e,d);return(0,c.s2)()?null:(0,l.jsx)(o.xu,p(p({position:"fixed",bottom:a.ux,right:a.PU,zIndex:"overlay","data-print-hidden":!0},t),{},{children:n}))});f.displayName="HelpWidgetWrapper"},88963:function(e,n,t){t.d(n,{J:function(){return Z},A:function(){return z}});var i=t(95235),r=t(13045),o=t(60239),s=t(29106),c=t(55452),a=t(77525),l=t(74642),d=t(35319),u=t(36258),p=t(27912),f=t(96530),x=t(54728),h=t(46367),m=t(53738),j=t(91333),v=t(23742),g=t(8283),b=t(50390),C=t(70091),y=t(83897),O=t(89190),_=t(73848),w=t(24798),A=t(84520),I=t(95085),P=t(49929),k=t(55966),D=t(93148),E=t(91012);t(2784);var R=t(52322),N=function(e){var n=e.prefix,t=e.support,i=e.suffix;return(0,R.jsxs)(E.x,{children:[void 0===n?"":n,(0,R.jsx)(E.x,{color:"gray.400",as:"span",children:void 0===t?"":t}),void 0===i?"":i]})},S=function(){return[{description:(0,R.jsx)(c.cC,{id:"8aebws"}),shortcut:"/"},{description:(0,R.jsx)(c.cC,{id:"JZEY8K"}),shortcut:"Mod+Shift+O"},{description:(0,R.jsx)(c.cC,{id:"3Lpas4"}),shortcut:"***"},{description:(0,R.jsx)(c.cC,{id:"e+t/xM"}),shortcut:"Mod+P"},{description:(0,R.jsx)(c.cC,{id:"MF+p5R"}),shortcut:"Mod+Enter"},{description:(0,R.jsx)(c.cC,{id:"NiZZRh"}),shortcut:"Mod+K"},{description:(0,R.jsx)(c.cC,{id:"4J90L0"}),shortcut:(0,R.jsx)(N,{prefix:"@",support:"name"})},{description:(0,R.jsx)(c.cC,{id:"1fOM5v"}),shortcut:(0,R.jsx)(N,{prefix:"@",support:"cardTitle"})}]},T=function(){return[{description:(0,R.jsx)(c.cC,{id:"MHrjPM"}),shortcut:"/title"},{description:(0,R.jsx)(c.cC,{id:"lXKZGw"}),shortcut:["#","Mod+Alt+1"]},{description:(0,R.jsx)(c.cC,{id:"El7NbA"}),shortcut:["##","Mod+Alt+2"]},{description:(0,R.jsx)(c.cC,{id:"SFN6dN"}),shortcut:["###","Mod+Alt+3"]},{description:(0,R.jsx)(c.cC,{id:"nJeKmw"}),shortcut:["####","Mod+Alt+4"]},{description:(0,R.jsx)(c.cC,{id:"yzF66j"}),shortcut:"Mod+K"},{description:(0,R.jsx)(c.cC,{id:"eFpJYL"}),shortcut:(0,R.jsx)(N,{prefix:":",support:"heart_eyes",suffix:":"})},{description:(0,R.jsx)(c.cC,{id:"KmydK6"}),shortcut:[(0,R.jsx)(N,{prefix:"*",support:"bold",suffix:"*"},"0"),"Mod+B"]},{description:(0,R.jsx)(c.cC,{id:"pzutoc"}),shortcut:[(0,R.jsx)(N,{prefix:"_",support:"italic",suffix:"_"},"0"),"Mod+I"]},{description:(0,R.jsx)(c.cC,{id:"YyXtnN"}),shortcut:"Mod+U"},{description:(0,R.jsx)(c.cC,{id:"WhOsNE"}),shortcut:"Mod+Shift+X"},{description:(0,R.jsx)(c.cC,{id:"VjjKVj"}),shortcut:"Mod+Shift+L"},{description:(0,R.jsx)(c.cC,{id:"95ckMP"}),shortcut:"Mod+Shift+E"},{description:(0,R.jsx)(c.cC,{id:"vTKw81"}),shortcut:"Mod+Shift+R"},{description:(0,R.jsx)(c.cC,{id:"Gc5apx"}),shortcut:[(0,R.jsx)(N,{prefix:"`",support:"code",suffix:"`"},"0"),"Mod+E"]},{description:(0,R.jsx)(c.cC,{id:"sFkOYO"}),shortcut:[(0,R.jsx)(N,{prefix:"$",support:"x^2",suffix:"$ "},"0"),"$$ "]},{description:(0,R.jsx)(c.cC,{id:"eKJQi9"}),shortcut:"Mod+Shift+H"},{description:(0,R.jsx)(c.cC,{id:"M3G9ZD"}),shortcut:["1. ","Mod+/","Mod+Shift+7"]},{description:(0,R.jsx)(c.cC,{id:"ynb7Kh"}),shortcut:["- ","Mod+.","Mod+Shift+8"]},{description:(0,R.jsx)(c.cC,{id:"rCIbrq"}),shortcut:["[] ","Mod+,","Mod+Shift+9"]},{description:(0,R.jsx)(c.cC,{id:"dOxPd4"}),shortcut:[(0,R.jsx)(N,{prefix:"^",support:"note",suffix:"^"},"0"),"Mod+Alt+F"]}]},M=function(){return[{description:(0,R.jsx)(c.cC,{id:"9xCxY6"}),shortcut:["←","→"]},{description:(0,R.jsx)(c.cC,{id:"6r2KAP"}),shortcut:["↑","↓"]},{description:(0,R.jsx)(c.cC,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,R.jsx)(c.cC,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,R.jsx)(c.cC,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,R.jsx)(c.cC,{id:"CgmvBu"}),shortcut:"S"},{description:(0,R.jsx)(c.cC,{id:"K0Oq/D"}),shortcut:"R"},{description:(0,R.jsx)(c.cC,{id:"CvH5f/"}),shortcut:(0,R.jsx)(m.xu,{p:0,children:(0,R.jsxs)("svg",{className:"coachbarCursor",height:"1em",viewBox:"0 0 298 380",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("path",{className:"cursorBlinkEffect",d:"M151.8 0.60199C145.612 0.60199 140.601 5.61759 140.601 11.801V79C140.601 85.1875 145.617 90.199 151.8 90.199C157.987 90.199 162.999 85.1834 162.999 79V11.801C162.999 5.61349 157.983 0.60199 151.8 0.60199ZM52.749 41.551C49.8818 41.551 47.0615 42.6877 44.874 44.8752C40.5029 49.2502 40.5029 56.4262 44.874 60.8012L84.425 100.352C88.8 104.727 95.976 104.723 100.351 100.352C104.726 95.9772 104.722 88.8012 100.351 84.4262L60.8 44.8752C58.6125 42.6877 55.6162 41.551 52.749 41.551ZM250.849 41.551C247.982 41.551 244.986 42.6877 242.798 44.8752L203.247 84.4262C198.876 88.8012 198.872 95.9772 203.247 100.352C207.622 104.723 214.798 104.727 219.173 100.352L258.724 60.8012C263.095 56.4262 263.095 49.2502 258.724 44.8752C256.537 42.6877 253.716 41.551 250.849 41.551ZM11.789 140.602C5.6015 140.602 0.589996 145.618 0.589996 151.801C0.589996 157.988 5.6056 163 11.789 163H78.988C85.1755 163 90.187 157.984 90.187 151.801C90.187 145.613 85.1714 140.602 78.988 140.602H11.789ZM92.465 199.926C89.5978 199.926 86.6017 201.063 84.4142 203.25L44.8632 242.801C40.4921 247.176 40.4921 254.352 44.8632 258.727C49.2382 263.102 56.4142 263.102 60.7892 258.727L100.34 219.176C104.711 214.801 104.715 207.625 100.34 203.25C98.1527 201.063 95.3322 199.926 92.465 199.926Z",fill:"black"}),(0,R.jsx)("path",{d:"M289.317 291.063H237.601L264.819 357.2C266.715 361.785 264.548 366.926 260.215 368.872L236.247 379.292C231.779 381.237 226.768 379.014 224.873 374.568L199.009 311.766L156.761 355.116C151.13 360.892 142 356.439 142 348.864V139.899C142 131.923 151.711 128.035 156.76 133.647L295.411 275.918C301.003 281.355 296.877 291.063 289.317 291.063V291.063Z",fill:"black"})]})},"cursor")}]};function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U={borderColor:"gray.100",py:2,px:2},z=function(e){var n=e.list;return(0,R.jsx)(a.x,{w:"100%",children:(0,R.jsx)(l.i,{variant:"simple",children:(0,R.jsx)(d.p,{children:n.map(function(e,n){var t=e.shortcut,i=e.description;return(0,R.jsxs)(u.Tr,{children:[(0,R.jsx)(p.Td,L(L({w:"60%"},U),{},{children:i})),(0,R.jsx)(p.Td,L(L({w:"40%"},U),{},{children:Array.isArray(t)?t.map(function(e,n){return(0,R.jsx)(f.T,{display:"inline-block",px:2,py:1,mr:1,children:"string"==typeof e?(0,k.cE)(e):e},n)}):"string"==typeof t?(0,R.jsx)(f.T,{display:"inline-block",px:2,py:1,children:(0,k.cE)(t)}):(0,R.jsx)(f.T,{display:"inline-block",px:2,py:1,children:t})}))]},n)})})})})},Z=function(e){var n=e.isOpen,t=e.onClose,i=(0,D.A)(T),a=(0,D.A)(M),l=(0,D.A)(S);return(0,R.jsxs)(x.J,{returnFocusOnClose:!1,closeOnBlur:!1,placement:"top",isOpen:n,onClose:t,modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}}],children:[(0,R.jsx)(h.t,{children:(0,R.jsx)(m.xu,{position:"fixed",bottom:0,right:0})}),(0,R.jsxs)(j.y,{zIndex:"menu",h:"80vh",w:"400px",flex:1,position:"relative",children:[(0,R.jsxs)(v.Y,{border:"0 none",mb:2,position:"sticky",bgColor:"white",children:[(0,R.jsxs)(g.U,{spacing:2,children:[(0,R.jsx)(P.G,{icon:s.UF}),(0,R.jsx)(b.X,{size:"md",children:(0,R.jsx)(c.cC,{id:"CTqTgr"})})]}),(0,R.jsx)(C.u,{})]}),(0,R.jsx)(y.b,{overflowY:"auto",children:(0,R.jsxs)(O.m,{variant:"soft-rounded",size:"sm",isFitted:!0,children:[(0,R.jsxs)(_.t,{mb:6,children:[(0,R.jsxs)(w.O,{children:[(0,R.jsx)(m.xu,{mr:2,children:(0,R.jsx)(P.G,{icon:o.Tz})}),(0,R.jsx)(c.cC,{id:"vVRhxh"})]}),(0,R.jsxs)(w.O,{children:[(0,R.jsx)(m.xu,{mr:2,children:(0,R.jsx)(P.G,{icon:r.r0})}),(0,R.jsx)(c.cC,{id:"UodEcE"})]})]}),(0,R.jsxs)(A.n,{children:[(0,R.jsxs)(I.x,{p:0,pb:1,mt:4,children:[(0,R.jsx)(z,{list:l}),(0,R.jsx)(k.NZ,{pt:4,pb:4,children:(0,R.jsx)(c.cC,{id:"Bb47jg"})}),(0,R.jsx)(z,{list:i})]}),(0,R.jsx)(I.x,{p:0,pb:1,mt:4,children:(0,R.jsx)(z,{list:a})})]})]})})]})]})}},8812:function(e,n,t){t.d(n,{PU:function(){return i},Ro:function(){return o},ux:function(){return r}});var i=4,r=4,o={mr:4,width:"auto",outline:"0",shadow:"lg",_focus:{outline:"none"}}},62849:function(e,n,t){t.d(n,{p:function(){return g}});var i=t(26673),r=t(11919),o=t(9088),s=t(30893),c=t(45650),a=t(40771),l=t(63849),d=t(2575),u=t(91012),p=t(93319),f=t(4036),x=t(49929),h=t(55452),m=t(98875),j=t(40315),v=t(52322),g=function(e){var n=e.selectedLocale,t=e.onLocaleSelect,g=(0,m.ye)("i18nEnabled");return(0,h.mV)(),(0,v.jsx)(r.k,{direction:"column",children:(0,v.jsxs)(o.v,{matchWidth:!0,children:[(0,v.jsx)(s.j,{as:c.z,rightIcon:(0,v.jsx)(x.G,{size:"xs",icon:i.pt}),minW:"150px",textAlign:"left",w:"100%",children:n.displayName}),(0,v.jsx)(a.q,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,v.jsx)(l._,{value:n.key,type:"radio",onChange:function(e){t(e)},children:(0,j.DD)(g).map(function(e){var n=!g&&"private_beta"===j.kf[e.key],t=!n&&"public_beta"===j.kf[e.key];return(0,v.jsx)(d.i,{value:e.key,isDisabled:n,children:(0,v.jsxs)(r.k,{flex:1,alignItems:"center",children:[(0,v.jsxs)(r.k,{direction:"column",children:[(0,v.jsx)(u.x,{children:e.displayName}),(0,v.jsx)(u.x,{fontSize:"12px",color:"gray.500",children:e.displayNameLocalized()})]})," ",(0,v.jsx)(p.L,{}),n?(0,v.jsx)(f.C,{ml:2,fontSize:"0.75em",colorScheme:"blue",children:(0,v.jsx)(h.cC,{id:"VZeG/A"})}):t?(0,v.jsx)(f.C,{ml:2,fontSize:"0.75em",colorScheme:"green",children:(0,v.jsx)(h.cC,{id:"YBt9YP"})}):null]})},e.key)})})})]})})}},96214:function(e,n,t){t.d(n,{l:function(){return o}});var i=t(46358),r=t(66737),o=function(){return(0,i.CG)(r.G5)}},18445:function(e,n,t){t.d(n,{m:function(){return s}});var i=t(2784),r=t(46358),o=t(66737),s=function(e){var n=(0,r.TL)();(0,i.useEffect)(function(){n((0,o.ZT)({locale:e||null}))},[e]),(0,i.useEffect)(function(){return function(){n((0,o.ZT)({locale:null}))}},[])}},86379:function(e,n,t){t.d(n,{C:function(){return h}});var i=t(55452),r=t(20010),o=t(56915),s=t(48273),c=t(92619),a=t(64827),l=t(2167),d=t(91012),u=t(80353),p=t(71354),f=t(45650),x=t(52322),h=function(e){var n=e.invitationCount,t=e.isOpen,h=e.onClose,m=e.onSendInvitationsClick,j=e.onDiscardClick;return t?(0,x.jsxs)(r.u_,{returnFocusOnClose:!1,onClose:h,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.h,{children:[(0,x.jsx)(c.x,{children:(0,x.jsx)(i.cC,{id:"tW/kB6",values:{invitationCount:n}})}),(0,x.jsx)(a.o,{}),(0,x.jsx)(l.f,{children:(0,x.jsx)(d.x,{children:(0,x.jsx)(i.cC,{id:"qxNK2k",values:{invitationCount:n}})})}),(0,x.jsx)(u.m,{children:(0,x.jsxs)(p.K,{spacing:2,direction:"row",align:"center",children:[(0,x.jsx)(f.z,{onClick:j,children:(0,x.jsx)(i.cC,{id:"bzSI52"})}),(0,x.jsx)(f.z,{variant:"solid",onClick:m,children:(0,x.jsx)(i.cC,{id:"6dWGPZ",values:{invitationCount:n}})})]})})]})]}):null}},51331:function(e,n,t){t.d(n,{R4:function(){return i.R},uL:function(){return r.uL},dU:function(){return r.dU},Y:function(){return r.Y},Yt:function(){return r.Yt},hA:function(){return r.hA}}),t(58688);var i=t(19529),r=t(74586)},20252:function(e,n,t){t.d(n,{J:function(){return s},Q:function(){return o}});var i=t(32333),r=t(78308),o=function(e){var n=e.doc_id,t=e.source,o=e.source_doc_id,s=e.channel;null===i.co||void 0===i.co||i.co.track(r.AA.DOC_CREATED,{doc_id:n,source_doc_id:o,source:t,channel:s})},s=function(e){var n=e.docId,t=e.type,o=e.source;if(!n){console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");return}null===i.co||void 0===i.co||i.co.track(r.AA.DOC_SHARELINK_COPIED,{doc_id:n,source:o,type:t})}},52596:function(e,n,t){t.d(n,{V:function(){return h}});var i=t(55452),r=t(71354),o=t(8283),s=t(91012),c=t(4036),a=t(93319),l=t(71193),d=t(91354),u=t(75085),p=t(51331),f=t(82483),x=t(52322),h=function(e){var n=e.onClose,t=e.onOpen,h=e.segmentEvent,m=e.doc,j=e.label,v=(0,d.y)("upsellUXEnabled_Pro"),g=(0,p.dU)(null==m?void 0:m.organization),b=(0,f.zc)().openUpsellModal;return!1===g&&v?(0,x.jsxs)(r.K,{my:4,borderTop:"1px solid var(--chakra-colors-gray-100)",w:"100%",children:[(0,x.jsxs)(o.U,{mt:4,children:[(0,x.jsxs)(o.U,{children:[(0,x.jsx)(s.x,{children:j||(0,x.jsx)(i.cC,{id:"alnKae",values:{GAMMA_PROPER_NOUN:u.N6}})}),(0,x.jsx)(c.C,{colorScheme:"trueblue",variant:"solid",children:u.k3})]}),(0,x.jsx)(a.L,{}),(0,x.jsx)(l.r,{onClickCapture:function(e){e.preventDefault(),b({onOpenCallback:n,onCloseCallback:t,segmentEvent:h})},checked:!1})]}),(0,x.jsx)(s.x,{fontSize:"xs",color:"gray.600",children:(0,x.jsx)(i.cC,{id:"/BIHRF",values:{GAMMA_PROPER_NOUN:u.N6}})})]}):null}},15241:function(e,n,t){t.d(n,{L:function(){return g}});var i=t(95235),r=t(89177),o=t(27037),s=t(55452),c=t(11919),a=t(13061),l=t(8283),d=t(12221),u=t(91012),p=t(53738),f=t(49929),x=t(55966),h=t(7985);t(16092);var m=t(52322);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g=function(e){var n=e.selectedCollaborator,t=e.idx,i=e.handleRemoveClick,j=n&&(0,h.G)((null==n?void 0:n.email)||""),g=0===t?170:300;return(0,m.jsx)(c.k,{width:0===t?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(n.email),children:(0,m.jsxs)(a.Vp,v(v({size:"md",minW:110},j?{}:{colorScheme:"red",bg:"red",color:"white"}),{},{children:["id"in n?(0,m.jsx)(x.kH,{label:n.email,"aria-label":n.email,children:(0,m.jsxs)(l.U,{children:[(0,m.jsx)(d.q,{size:"2xs",m:0,name:n.displayName,src:n.profileImageUrl}),(0,m.jsx)(u.x,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:g,lineHeight:"1.5",children:n.displayName})]})}):(0,m.jsx)(x.kH,{label:j?n.email:(0,m.jsx)(s.cC,{id:"XILg0L"}),"aria-label":n.email,children:(0,m.jsxs)(l.U,{flex:1,children:[(0,m.jsx)(p.Cd,{bg:j?"trueblue.100":"none",size:6,children:(0,m.jsx)(f.G,{icon:j?o.FU:r.WV})}),(0,m.jsx)(u.x,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:g,lineHeight:"1.5",children:n.email})]})}),(0,m.jsx)(a.SD,{onClick:i})]}))},"id"in n?n.id:n.email)}},35330:function(e,n,t){t.d(n,{y:function(){return o}});var i=t(75944),r=t(2784),o=function(){var e=(0,i.q)({id:"sharePanelDisclosure"}),n=e.isOpen,t=e.onOpen,o=e.onClose,s=(0,r.useState)("invite");return{isSharePanelOpen:n,onSharePanelOpen:t,onSharePanelClose:o,view:s[0],setView:s[1]}}},18748:function(e,n,t){t.d(n,{Nj:function(){return ne},t9:function(){return nn},o$:function(){return nl},aA:function(){return nR},WQ:function(){return nY}});var i,r,o,s=t(92743),c=t(55452),a=t(20010),l=t(56915),d=t(48273),u=t(92619),p=t(53738),f=t(64827),x=t(40110),h=t(2167),m=t(71354),j=t(81927),v=t(85982),g=t(45650),b=t(80353),C=t(11919),y=t(93319),O=t(49929),_=t(55966),w=t(2784),A=t(23313),I=t(16092),P=t(92779),k=t(10710),D=t(31145),E=t(18992),R=t(59637),N=t(94659),S=t(91012),T=t(8283),M=t(98875),G=t(75085),L=t(78308),U=t(12741),z=t(20406),Z=t(75652),F=t.n(Z),V=t(28526),W=t.n(V),Y=t(55479),$=t(84103),q=t(37914),K=t(46358),B=t(32333),H=t(62141),J=t(52322),X=(i=(0,z.Z)(W().mark(function e(n,t,i){var r;return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(q.v.API_HOST||"","/export/docs/").concat(n,"/").concat(i),e.abrupt("return",fetch(r,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":q.v.SHARE_TOKEN||""},body:JSON.stringify({docContent:t})}));case 2:case"end":return e.stop()}},e)})),function(e,n,t){return i.apply(this,arguments)}),Q=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",r=(0,Y.p)(),o=(0,w.useRef)(null),s=(0,B.z$)(),a=(0,w.useState)(!1),l=a[0],d=a[1],u=(0,w.useCallback)(function(){o.current=r({id:"export-toast-".concat(e.id,"-").concat(i),isClosable:!1,position:"top",duration:null,status:"loading",variant:"light",title:(0,J.jsx)(c.cC,{id:"eJOEBy"})})},[null==e?void 0:e.id,r,i]),p=(0,w.useCallback)(function(){o.current&&r.update(o.current,{status:"loading",variant:"light",title:(0,J.jsx)(c.cC,{id:"eJOEBy"}),description:(0,J.jsx)(c.cC,{id:"vMANwD"}),isClosable:!0})},[r,i]),f=(0,w.useCallback)(function(){o.current&&r.update(o.current,{title:(0,J.jsx)(c.cC,{id:"walT1X"}),status:"error",duration:null,isClosable:!0})},[r]),x=(0,w.useCallback)(function(e){o.current&&r.update(o.current,{status:"success",title:(0,J.jsx)(c.cC,{id:"pK8dQg"}),description:(0,J.jsx)(S.x,{children:(0,J.jsx)(c.cC,{id:"MTtTC2",components:{0:(0,J.jsx)($.r,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:function(){return o.current&&r.close(o.current)}})}})}),isClosable:!0})},[r,i]);return{handleExport:(0,w.useCallback)(function(){var r,o=null==t?void 0:t.getJSON();d(!0),u();var c=setTimeout(p,3e4);X(e.id,o,i).then((r=(0,z.Z)(W().mark(function t(r){var o,c,a,l,d,u;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.blob();case 2:if(c=t.sent,r.ok){t.next=5;break}throw Error("Export failed.");case 5:a="pdf"===i?B.AA.PDF_EXPORTED:B.AA.PPTX_EXPORTED,null==s||s.track(a,{doc_id:e.id,source:n}),x(decodeURIComponent(r.headers.get("x-gamma-download-url")||"")||void 0),l=window.URL.createObjectURL(c),d=document.createElement("a"),u=decodeURIComponent((null===(o=(r.headers.get("Content-Disposition")||"").split(";").find(function(e){return e.includes("filename=")}))||void 0===o?void 0:o.replace("filename=","").trim())||"".concat(e.id,".").concat(i)),d.download=u,d.href=l,d.style.display="none",document.body.appendChild(d),d.click(),d.remove();case 17:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)})).catch(function(){f()}).finally(function(){d(!1),clearTimeout(c)})},[s,null==e?void 0:e.id,t,n,i,f,u,p,x]),exportInProgress:l}},ee=function(e){var n=(0,K.CG)(H.Pu),t=e.theme||n;return(0,w.useMemo)(function(){var e=t.fonts?(0,U.Z)(t.fonts):[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),F()(e).map(function(e){var n;return null!==(n=e.url)&&void 0!==n&&n.includes("fonts.googleapis.com")?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(function(e){return!!e})},[t])},en=t(2875),et=t(64457),ei=t(52596),er=function(e){var n=e.doc,t=e.editor,i=e.onSharePanelOpen,r=e.onSharePanelClose,o=(0,M.ye)("pptExport");return(0,J.jsxs)(N.g,{spacing:4,align:"start",pt:2,children:[(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.600",children:(0,J.jsx)(c.cC,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}})}),(0,J.jsxs)(m.K,{spacing:2,width:"100%",children:[(0,J.jsx)(es,{format:"pdf",label:"PDF",icon:R.gS,accentColor:"red",doc:n,editor:t}),o&&(0,J.jsx)(es,{format:"pptx",label:"PowerPoint",icon:E.WO,accentColor:"orange",doc:n,editor:t})]}),o&&(0,J.jsx)(eo,{doc:n}),t&&(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.600",children:(0,J.jsx)(c.cC,{id:"8LhjM/",components:{0:(0,J.jsx)(g.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:function(){r(),en.pw.emit(en.TI.OPEN_PAGE_SETUP,"cards")}})}})}),(0,J.jsx)(ei.V,{onClose:r,onOpen:i,segmentEvent:L.AA.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:n})]})},eo=function(e){var n=ee(e.doc);return n.length?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.600",children:(0,J.jsx)(c.cC,{id:"5qYpE7"})}),(0,J.jsx)(T.U,{children:n.map(function(e){var n=e.name,t=e.url;return(0,J.jsx)(p.xu,{border:"1px",borderColor:"gray.200",borderRadius:"md",h:"auto",_hover:t?{boxShadow:"var(--chakra-shadows-md)",borderColor:"var(--chakra-colors-trueblue-300)",color:"var(--chakra-colors-trueblue-400)"}:{},onClick:t?function(){return window.open(t,"_blank")}:void 0,cursor:t?"pointer":void 0,children:(0,J.jsxs)(T.U,{p:3,paddingRight:4,spacing:4,children:[(0,J.jsx)(S.x,{fontWeight:"medium",children:n}),t&&(0,J.jsx)(O.G,{icon:D.faArrowUpRightFromSquare,size:"1x"})]})},"name")})})]}):null},es=function(e){var n=e.format,t=e.doc,i=e.editor,r=e.icon,o=e.accentColor,s=e.label,a=e.badge,l=Q(t,"share_panel",i,n),d=l.handleExport,u=l.exportInProgress;return(0,J.jsx)(et.j,{onClick:d,icon:r,formatLabel:s,accentColor:o,exportInProgress:u,exportInProgressNote:(0,J.jsx)(c.cC,{id:"57bp6s"}),badge:a})},ec=t(95235),ea=t(81333),el=t(11446),ed=t(47299),eu=t(3851),ep=t(49626),ef=t(59195),ex=t(61751),eh=t(40130),em=t(27037),ej=t(52622),ev=(t(98683),t(87254)),eg=t(49747),eb=(t(97907),t(50390)),eC=t(72360),ey=t(48322),eO=t(12221),e_=t(1842),ew=t.n(e_),eA=t(97442),eI=t(93148),eP=t(9846),ek=t(20252),eD=t(34860),eE=t(93858),eR=t(51823),eN=t(49392),eS=t(34396),eT=t(19911),eM=function(e){var n=e.icon,t=e.showDisabled,i=void 0!==t&&t;return(0,J.jsx)(p.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:8,opacity:i?.5:1,children:i?(0,J.jsxs)("span",{className:"fa-stack",children:[(0,J.jsx)(O.G,{icon:eT.u6,className:"fa-stack-1x"}),(0,J.jsx)(O.G,{icon:n,className:"fa-stack-1x"})]}):(0,J.jsx)(O.G,{size:"1x",icon:n})})},eG=function(e){var n=e.channel,t=e.doc,i=e.isDisabled,r=e.showDisabledIcon,o=void 0!==r&&r,s=(0,eS.Z)().removeDocChannel,a=(0,w.useCallback)(function(){t&&s(t,n.id)},[n.id,t,s]),l=(0,eR.j)({slug:n.slug,id:n.id});return(0,J.jsxs)(T.U,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(n.id),children:[(0,J.jsx)(p.xu,{children:(0,J.jsxs)(C.k,{alignItems:"center",children:[(0,J.jsx)(eM,{icon:I.Ty,showDisabled:o}),(0,J.jsx)(p.xu,{ml:3,opacity:o?.5:1,children:(0,J.jsx)($.r,{href:l,target:"_blank",children:n.name})})]})}),(0,J.jsx)(g.z,{size:"sm",variant:"ghost",colorScheme:"red",onClick:a,isDisabled:i,children:(0,J.jsx)(c.cC,{id:"t/YqKh"})})]},n.id)},eL=t(46949),eU=t(76648),ez=t(21891),eZ=t(420),eF=t(35316),eV=t(90113),eW=t(38421),eY=t.n(eW),e$=function(e){var n=e.workspaceId,t=e.docId,i=e.existingChannels,r=e.isDisabled,o=(0,w.useRef)(null),s=(0,w.useState)(""),a=s[0],l=s[1],d=(0,w.useState)([]),u=d[0],f=d[1],x=(0,w.useState)(!1),h=x[0],j=x[1],v=(0,eS.Z)().addDocChannel,g=(0,A.Kce)({variables:{query:a,workspaceId:n},skip:!a}),b=g.data,y=g.loading;(0,w.useEffect)(function(){if(!y&&b){var e=b.search.filter(Boolean);f(e),j(0===e.length)}},[b,y]);var P=(0,w.useMemo)(function(){return a?u.filter(function(e){return!i.find(function(n){return n.id===e.id})}):[]},[i,a,u]),k=(0,w.useCallback)(function(e){var n=P.find(function(n){return n.id===e});if(!n){console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");return}v({docId:t,channel:n,existingChannels:i})},[v,t,i,P]);return(0,J.jsx)(eU.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,J.jsx)(p.xu,{flex:1,children:(0,J.jsxs)(ez.B,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,J.jsx)(C.k,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,J.jsx)(eZ.$,{})}),(0,J.jsxs)(eV.AutoComplete,{rollNavigation:!0,multiple:!0,emptyState:function(){return!!h&&(0,J.jsxs)(C.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,J.jsx)(p.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,J.jsx)(eY(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,J.jsx)(eb.X,{size:"xs",mb:2,textAlign:"center",children:(0,J.jsx)(c.cC,{id:"NmfOr+"})}),(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.400",textAlign:"center",children:(0,J.jsx)(c.cC,{id:"kXnLEt"})})]})},suggestWhenEmpty:!1,openOnFocus:!0,filter:function(){return!0},onSelectOption:function(e){k(e.item.value),l("")},children:[(0,J.jsxs)(eF.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,J.jsx)(C.k,{flex:1}),(0,J.jsx)(C.k,{h:10,py:4,alignItems:"center",children:(0,J.jsx)(eL.W,{w:10})})]}),(0,J.jsx)(eV.AutoCompleteInput,{ref:o,"data-testid":"autocomplete-channels-input",cursor:r?"not-allowed":void 0,disabled:r,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:ev.ag._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:a,onChange:function(e){var n=e.target.value;l(n),n||f([])}}),(0,J.jsx)(eV.AutoCompleteList,{w:"100%",mt:0,display:a.length>0?"flex":"none",children:P.length>0&&P.map(function(e){var n=e.id,t=e.name,i=e.memberCount,r=e.isMember,o=e.members;return(0,J.jsx)(eV.AutoCompleteItem,{"data-testid":"autocomplete-item-channel-".concat(n),value:{id:e.id},getValue:function(e){return e.id},align:"center",_focus:{bg:"trueblue.50"},children:(0,J.jsxs)(T.U,{spacing:4,p:0,flex:1,children:[(0,J.jsx)(p.xu,{color:"gray.700",children:(0,J.jsx)(O.G,{icon:I.Ty})}),(0,J.jsxs)(m.K,{spacing:0,flex:"1",children:[(0,J.jsx)(S.x,{children:t}),(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.400",children:r?(0,J.jsx)(c.cC,{id:"tWPlLK",values:{0:i||0}}):(0,J.jsx)(c.cC,{id:"pkIIls",values:{0:i||0}})})]}),(0,J.jsx)(_.NL,{size:"xs",overflowTooltipLabel:ev.ag._({id:"25VyZX"}),avatars:o||[],max:3,onClick:function(e){e.preventDefault(),e.stopPropagation()}})]})},n)})})]})]})})})},eq=t(75944),eK=t(4448),eB=t(7985),eH=t(98841),eJ=t(60147),eX=t(86379),eQ=t(29677),e0=t(31912),e1=t(36471),e2=t(26673),e5=t(9088),e3=t(30893),e4=t(40771),e9=t(63849),e8=t(2575),e7=t(95258),e6=t(82904);(o||(o={})).NoAccess="no_access";var ne=(r={},(0,ec.Z)(r,A.y3$.Manage,{title:function(){return ev.ag._({id:"DZfDCl"})},description:function(){return ev.ag._({id:"r59J7Q"})}}),(0,ec.Z)(r,A.y3$.Edit,{title:function(){return ev.ag._({id:"ePK91l"})},description:function(){return ev.ag._({id:"kuZsYI"})}}),(0,ec.Z)(r,A.y3$.Comment,{title:function(){return ev.ag._({id:"NBdIgR"})},description:function(){return ev.ag._({id:"IwFh5+"})}}),(0,ec.Z)(r,A.y3$.View,{title:function(){return ev.ag._({id:"jpctdh"})},description:function(){return ev.ag._({id:"yzFEXd"})}}),(0,ec.Z)(r,o.NoAccess,{title:function(){return ev.ag._({id:"oPoLg+"})},description:function(){return ev.ag._({id:"Vcif8/"})}}),r),nn=function(e){var n=e.isDisabled,t=e.options,i=e.disabledOptions,r=void 0===i?[]:i,s=e.selected,a=e.variant,l=e.onClick,d=void 0===l?function(){}:l,u=e.onRemove;return(0,J.jsxs)(e5.v,{closeOnSelect:!0,children:[(0,J.jsx)(e3.j,{"data-testid":"permission-menu-value-".concat(s),as:g.z,display:"flex",size:"sm",isDisabled:n,variant:void 0===a?"ghost":a,rightIcon:(0,J.jsx)(O.G,{icon:e2.pt}),children:ne[s||o.NoAccess].title()}),(0,J.jsx)(e4.q,{textAlign:"left",zIndex:"overlay",children:(0,J.jsxs)(e9._,{defaultValue:s,value:s,title:ev.ag._({id:"9cDpsw"}),type:"radio",onChange:function(e){d(e)},children:[t.map(function(e){var n=r.find(function(n){return n.permission===e}),t=n&&n.reason;return(0,J.jsx)(e8.i,{isDisabled:!!n,value:e,alignItems:"start",pt:3,children:(0,J.jsx)(_.kH,{label:t,"aria-label":t,isDisabled:!n,placement:"top",children:(0,J.jsxs)(p.xu,{children:[(0,J.jsx)(S.x,{mt:-1,children:ne[e].title()}),(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.500",mt:1,children:ne[e].description()})]})},e)},e)}),u&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(e7.R,{}),(0,J.jsx)(e6.s,{color:"red.500",onClick:u,icon:(0,J.jsx)(O.G,{icon:e1.$,fixedWidth:!0}),children:(0,J.jsx)(c.cC,{id:"t/YqKh"})})]})]})})]})},nt=t(15241);function ni(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ni(Object(t),!0).forEach(function(n){(0,ec.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ni(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var no=(0,eH.E)(p.xu),ns=function(e,n,t){if(!t)return e;var i=(0,U.Z)(e),r=e.findIndex(function(e){return"email"in e&&e.email===t}),o=n.find(function(e){return e.email===t});return -1!==r&&i.splice(r,1),[].concat((0,U.Z)(i),[o||{email:t}])},nc=function(e,n){var t=(0,e0.Hs)(n.map(function(e){return"displayName"in e?e.displayName:e.email}),3);return e===A.y3$.Manage?ev.ag._({id:"4bKxWq",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}):e===A.y3$.Edit?ev.ag._({id:"3rbi6Y",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}):e===A.y3$.Comment?ev.ag._({id:"uGWY40",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}):e===A.y3$.View?ev.ag._({id:"p5IG6F",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}):ev.ag._({id:"Ai1TAT",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}})},na=function(e){var n,t=e.workspaceId,i=e.docId,r=e.user,o=e.existingDocCollaborators,s=e.existingInvitations,a=e.registerDoneFn,l=e.isDisabled,d=(0,Y.p)(),u=(0,w.useState)(!1),f=u[0],x=u[1],h=(0,w.useRef)(),m=(0,w.useRef)(null),j=(0,w.useState)(""),v=j[0],b=j[1],y=(0,w.useState)([]),I=y[0],P=y[1],k=(0,w.useState)(A.y3$.Manage),D=k[0],E=k[1],R=(0,w.useState)(new eQ.B),N=R[0],M=R[1],G=(0,w.useState)([]),L=G[0],Z=G[1],F=L.filter(function(e){return"email"in e}),V=o.map(function(e){return e.user}),$=(0,eq.q)({id:"unsentInvitationsModalDisclosure"}),q=$.isOpen,K=$.onOpen,B=$.onClose,H=(0,A.qVw)(),X=(0,ea.Z)(H,2),Q=X[0],ee=X[1],en=ee.loading,et=ee.error;(0,eD.GJ)("Error inviting collaborators.",et);var ei=(0,eJ.j)(A.aAR),er=(0,A.PGi)({variables:{query:v,workspaceId:t},skip:!v}),eo=er.data,es=er.loading;(0,w.useEffect)(function(){!es&&eo&&P(eo.search.filter(Boolean))},[eo,es]);var ec=(0,w.useMemo)(function(){return v?I.filter(function(e){return"User"===e.__typename&&e.id!==r.id&&!F.concat(V).find(function(n){return n.email===e.email})}):[]},[I,V,v,F,r.id]),el=!!v&&!ec.find(function(e){return e.email===v}),ed=D===A.y3$.Manage&&F.some(function(e){return!("__typename"in e&&"User"===e.__typename)}),eu=L.concat({email:v}).filter(function(e){return!("email"in e)||(0,eB.G)(e.email||"")}),ep=!!L.length,ef=!!eu.length;(0,w.useEffect)(function(){a(function(){return function(){return ef?K():N.resolve(),N.promise}})},[a,N,ef,K]);var ex=(0,w.useCallback)((n=(0,z.Z)(W().mark(function e(n){var i;return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),Z(function(e){return n.reduce(function(e,n){return ns(e,ec,n.trim())},e)}),e.next=4,Promise.all(n.map(function(e){return ei({workspaceId:t,query:e}).then(function(n){var t;return null===(t=n.data)||void 0===t?void 0:t.search.find(function(n){return"User"===n.__typename&&n.email===e})})}));case 4:i=e.sent.filter(Boolean),Z(function(e){return n.reduce(function(e,n){return ns(e,i,n.trim())},e)}),x(!1);case 7:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[ec,ei,t]),eh=(0,w.useCallback)((0,z.Z)(W().mark(function e(){var n,t,c;return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==F.length){e.next=2;break}return e.abrupt("return");case 2:return n=ns(F,ec,v.trim()).filter(function(e){return"email"in e&&(0,eB.G)(e.email||"")}),t=[].concat((0,U.Z)(o),(0,U.Z)(n.map(function(e){if("id"in e)return{docId:i,user:e,guest:!1,permission:D,__typename:"DocCollaborator"}}))).filter(function(e){return!!e}),c=[].concat((0,U.Z)(s),(0,U.Z)(n.map(function(e){if(!("id"in e))return{id:"temp",docTitle:"temp-title",invitedBy:r,docId:i,email:e.email,permission:D,__typename:"DocInvitation"}}))).filter(function(e){return!!e}),e.abrupt("return",Q({variables:{docId:i,collaborators:n.map(function(e){var n={permission:D};return nr(nr({},"id"in e?{userId:e.id}:{email:e.email}),n)})},update:function(e,n){var t=n.data;e.writeFragment({id:"Doc:".concat(i),fragment:A.yAO,data:null==t?void 0:t.addCollaborators})},optimisticResponse:{addCollaborators:{id:i,collaborators:t,invitations:c}}}).then(function(){d({title:ev.ag._({id:"Ka86rB",values:{0:n.length}}),description:nc(D,n),status:"success",duration:5e3,isClosable:!0,position:"top"})}));case 6:case"end":return e.stop()}},e)})),[Q,i,v,D,ec,F,o,s,d,r]),ej=(0,w.useCallback)((0,z.Z)(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([eh()]).then(function(){var e;Z([]),b(""),null===(e=h.current)||void 0===e||e.resetItems(!0),N.resolve(),M(new eQ.B)}).catch(function(e){console.warn(e)}));case 1:case"end":return e.stop()}},e)})),[eh,N]),eg=l||en||f;return(0,J.jsxs)(eU.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,J.jsx)(p.xu,{flex:1,children:(0,J.jsxs)(ez.B,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,J.jsx)(C.k,{display:f?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,J.jsx)(eZ.$,{})}),(0,J.jsxs)(eV.AutoComplete,{ref:h,values:L,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:function(e,n){return!F.find(function(e){return e.email===n})},onSelectOption:function(e){var n=e.item;"collaborator"===n.originalValue.type&&Z(function(e){return ns(e,ec,n.value)}),b("")},onTagRemoved:function(e){Z(function(n){return(0,U.Z)(n).filter(function(n){return"email"in n?n.email!==e:!("id"in n)||n.id!==e})})},children:[(0,J.jsxs)(eF.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,J.jsx)(C.k,{flex:1}),(0,J.jsx)(C.k,{h:10,py:4,alignItems:"center",children:(0,J.jsx)(eL.W,{w:10})})]}),(0,J.jsx)(eV.AutoCompleteInput,{ref:m,"data-testid":"autocomplete-collaborators-input",cursor:eg?"not-allowed":void 0,disabled:eg,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:ev.ag._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:v,onKeyDown:function(e){if("Backspace"===e.key&&0===v.length&&L.length>0){var n,t=L.slice(-1).pop();t&&(null===(n=h.current)||void 0===n||n.removeItem("email"in t?t.email:t.id))}},onPaste:function(e){e.preventDefault(),e.stopPropagation(),ex(e.clipboardData.getData("Text").trim().split(/[,|;\s]+/)),b(""),P([])},onChange:function(e){var n=e.target.value;b(n),n||P([])},children:L.map(function(e,n){return(0,J.jsx)(nt.L,{idx:n,selectedCollaborator:e,handleRemoveClick:function(){var n;null===(n=h.current)||void 0===n||n.removeItem(e.email)}},"id"in e?e.id:e.email)})}),(0,J.jsx)(eV.AutoCompleteList,{w:"100%",mt:0,display:v.length>0?"flex":"none",children:ec.map(function(e){var n=e.id,t=e.email,i=e.displayName,r=e.profileImageUrl;return(0,J.jsx)(eV.AutoCompleteItem,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(n),value:{email:t,type:"collaborator"},getValue:function(e){return e.email},align:"center",_focus:{bg:"trueblue.50"},children:(0,J.jsxs)(T.U,{children:[(0,J.jsx)(eO.q,{size:"sm",name:i,src:r}),(0,J.jsxs)(p.xu,{children:[(0,J.jsx)(S.x,{textTransform:"capitalize",children:i}),(0,J.jsx)(S.x,{fontSize:"xs",color:"gray.500",children:null==t?void 0:t.toLowerCase()})]})]})},n)}).concat((0,J.jsx)(eV.AutoCompleteItem,{value:{email:v,type:"collaborator"},align:"center",display:el?"flex":"none",_focus:{bg:"trueblue.50"},children:(0,J.jsxs)(T.U,{children:[(0,J.jsx)(p.Cd,{bg:"trueblue.100",size:8,children:(0,J.jsx)(O.G,{icon:em.FU})}),(0,J.jsx)(S.x,{size:"md",children:v})]})},v))})]}),(0,J.jsx)(eK.p,{in:ep,unmountOnExit:!0,children:(0,J.jsx)(eF.x,{w:"auto",justifyContent:"flex-end",pr:1,children:(0,J.jsx)(nn,{isDisabled:en,options:[A.y3$.Manage,A.y3$.Edit,A.y3$.Comment,A.y3$.View],variant:"ghost",selected:D,onClick:function(e){return E(e)}})})})]})}),(0,J.jsx)(no,{overflowX:"hidden",mr:-2,transition:"slow",animate:{maxWidth:ep?"200px":"0px"},children:(0,J.jsx)(_.kH,{label:(0,J.jsx)(c.cC,{id:"Rxin92"}),"aria-label":ev.ag._({id:"Rxin92"}),isDisabled:!ed,placement:"top",children:(0,J.jsx)(p.xu,{children:(0,J.jsx)(g.z,{variant:"solid",onClick:ej,isDisabled:!ef||ed,isLoading:en,"data-testid":"add-selected-items",children:(0,J.jsx)(c.cC,{id:"m16xKo"})})})})}),(0,J.jsx)(eX.C,{invitationCount:eu.length,onDiscardClick:function(){B(),N.resolve(),M(new eQ.B)},onSendInvitationsClick:function(){B(),ej()},onClose:function(){B(),N.reject(),M(new eQ.B)},isOpen:q})]})},nl=function(e){var n=e.title,t=e.subtitle,i=e.img,r=e.isDisabled,o=e.disabledText,s=e.tooltipText,c=e.testId,a=e.infoIcon,l=e.permissionsControl,d=e.workspaceGuestInvite,u="string"==typeof t?(0,J.jsx)(S.x,{fontSize:"xs",color:"gray.500",children:t}):t,f=(0,J.jsx)(_.kH,{isDisabled:!s,label:s,placement:"top",children:(0,J.jsx)(p.xu,{children:l})});return(0,J.jsxs)(T.U,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(c?"-"+c:""),children:[(0,J.jsx)(p.xu,{children:(0,J.jsxs)(C.k,{alignItems:"center",children:[i,(0,J.jsxs)(p.xu,{ml:3,children:[(0,J.jsx)(S.x,{children:n}),(0,J.jsxs)(C.k,{align:"center",children:[d&&d,u&&u]})]})]})}),(0,J.jsx)(p.xu,{children:(0,J.jsx)(_.kH,{isDisabled:!s,label:(0,J.jsx)(S.x,{children:s}),placement:"top",children:void 0!==r&&r?(0,J.jsx)(S.x,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(c),children:o}):a?(0,J.jsxs)(T.U,{children:[a,f]}):f})})]})},nd=t(82269),nu=["children","showDivider"];function np(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?np(Object(t),!0).forEach(function(n){(0,ec.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):np(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nx=function(e){var n=e.children,t=e.showDivider,i=(0,nd.Z)(e,nu);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(N.g,nf(nf({spacing:1,align:"stretch",py:4},i),{},{children:n})),(void 0===t||t)&&(0,J.jsx)(x.i,{})]})},nh=function(e){var n=e.subtitle,t=e.tooltipLabel,i=e.ariaLabel,r=e.icon;return(0,J.jsxs)(T.U,{spacing:1,align:"center",children:[(0,J.jsx)(S.x,{fontSize:"xs",color:"gray.500",children:n}),(0,J.jsx)(_.kH,{label:t,placement:"top","aria-label":i,children:(0,J.jsx)(p.xu,{color:"gray.500",lineHeight:"1",children:(0,J.jsx)(O.G,{size:"xs",icon:r})})})]})},nm=t(43794),nj=t(54728),nv=t(51434),ng=t(91333),nb=t(10344),nC=t(23742),ny=t(83897),nO=function(e){var n=e.email,t=e.name,i=e.workspaceName,r=e.workspaceId,o=(0,A.f4M)(),s=(0,ea.Z)(o,1)[0],a=(0,w.useState)(!1),l=a[0],d=a[1],u=(0,Y.p)();return(0,J.jsx)(nj.J,{closeOnBlur:!0,children:function(e){var o=e.onClose;return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(nv.x,{children:(0,J.jsx)(g.z,{leftIcon:(0,J.jsx)(O.G,{icon:nm.Gg}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,J.jsx)(c.cC,{id:"O1wAlQ"})})}),(0,J.jsxs)(ng.y,{bg:"white",children:[(0,J.jsx)(nb.Q,{}),(0,J.jsx)(nC.Y,{fontWeight:"bold",children:(0,J.jsx)(c.cC,{id:"XYV7FR"})}),(0,J.jsxs)(ny.b,{children:[(0,J.jsx)(S.x,{fontSize:"sm",children:(0,J.jsx)(c.cC,{id:"hJZ5XP",values:{name:t,workspaceName:i,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:G.aq}})}),(0,J.jsx)(g.z,{isDisabled:l,w:"100%",mt:2,onClick:function(){r&&n&&(d(!0),s({variables:{workspaceId:r,invitees:[{email:n}]}}).then(function(){u({title:ev.ag._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(function(e){console.error(e),u({title:ev.ag._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(function(){d(!1),o()}))},children:(0,J.jsx)(c.cC,{id:"qVqqmP"})})]})]})]})}})};function n_(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nw(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n_(Object(t),!0).forEach(function(n){(0,ec.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nA=function(){return{view:{subtitle:ev.ag._({id:"ihPQra"}),tooltip:(0,I.tN)()},comment:{subtitle:ev.ag._({id:"qPZYdC"}),tooltip:ev.ag._({id:"oKPro/",values:{0:(0,I.tN)()}})},edit:{subtitle:ev.ag._({id:"TVFcVE"}),tooltip:ev.ag._({id:"2gPY9r",values:{0:(0,I.tN)()}})}}},nI=function(e,n){var t,i,r="DocCollaborator"===e.__typename?null===(t=e.user.displayName)||void 0===t?void 0:t.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",o="DocCollaborator"===n.__typename?null===(i=n.user.displayName)||void 0===i?void 0:i.toUpperCase():"DocInvitation"===n.__typename?n.email.toUpperCase():"";return!o||r&&r<o?-1:!r||o&&r>o?1:0},nP=function(e,n){if(e.permission!==n.permission){if("manage"===e.permission)return -1;if("manage"===n.permission)return 1}return nI(e,n)},nk=function(e){var n,t,i,r=e.workspaceId,s=e.isFromOtherOrg,a=e.doc,l=e.user,d=e.setVerifySearchDone,u=e.canManage,f=(0,eI.A)(nA),x=(0,Y.p)(),h=(0,eE._)(eN.H.hasDismissedDocWorkspaceNotice,!1),m=(0,ea.Z)(h,2),j=m[0],v=(m[1],(0,w.useState)(!1)),g=v[0],b=v[1],y=(0,A.$gs)().isConnected,I=(0,A.qVw)(),k=(0,ea.Z)(I,2),D=k[0],E=k[1].error,R=(0,A.mrc)(),M=(0,ea.Z)(R,2),L=M[0],z=M[1].error;(0,eD.GJ)("Error updating collaborator.",E),(0,eD.GJ)("Error removing collaborator.",z);var Z=(0,A.rIg)(),F=(0,ea.Z)(Z,1)[0],V=(0,A.kTH)(),W=(0,ea.Z)(V,1)[0],$=null==a?void 0:null===(n=a.accessLinks)||void 0===n?void 0:n[0],q=(0,w.useMemo)(function(){return(0,eR.Gn)({docTitle:null==a?void 0:a.title,docId:null==a?void 0:a.id,token:null==$?void 0:$.token,absolute:!0})},[a,null==$?void 0:$.token]),K=u&&y,B=!s,H=(B&&(j||!a||a.orgAccess),!!(!(null!=a&&a.orgAccess)&&(null==a?void 0:a.channels)&&(null==a?void 0:a.channels.length)>0&&(null==a?void 0:a.channels.every(function(e){return ew()(e.permission)})))),X=(null==a?void 0:a.orgAccess)==null&&(null==a?void 0:a.publicAccess)==A.y3$.View,Q=(0,P.qw)(a),ee=(null==a?void 0:a.collaborators)||[],en=(null==a?void 0:a.invitations)||[],et=ee.filter(function(e){return e.permission===A.y3$.Manage}).length,ei=[].concat((0,U.Z)(ee),(0,U.Z)(en)).sort(nP),er=function(e){return function(){x({title:"updated"===e?ev.ag._({id:"Xpw8aE"}):ev.ag._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}},eo=null!=$&&$.permission?null==$?void 0:$.permission:o.NoAccess,es=eo===o.NoAccess,ec=(null==$?void 0:$.token)==="",eb=$&&$.permission!==A.y3$.View,e_=a.orgAccess?a.orgAccess:o.NoAccess,eS=e_!==o.NoAccess;return(0,J.jsxs)(J.Fragment,{children:[K&&(0,J.jsx)(na,{workspaceId:r,docId:a.id,user:l,existingDocCollaborators:ee,existingInvitations:en,registerDoneFn:d,isDisabled:!u}),(0,J.jsx)(eP.V,{label:(0,J.jsx)(c.cC,{id:"i5bpoc"}),isConnected:y,mb:4}),(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.600",pt:2,children:Q}),(0,J.jsxs)(nx,{children:[!1,(0,J.jsx)(nl,{testId:"workspace",title:(0,J.jsx)(c.cC,{id:"wtxjAY"}),subtitle:eS?ev.ag._({id:"aC87LX",values:{0:null==a?void 0:null===(t=a.organization)||void 0===t?void 0:t.name}}):"",img:(0,J.jsx)(eM,{icon:ej.P8,showDisabled:!eS}),isDisabled:!K,disabledText:ne[e_].title(),infoIcon:X?(0,J.jsx)(_.kH,{label:(0,J.jsx)(c.cC,{id:"paaewf",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}),placement:"top",children:(0,J.jsx)(p.xu,{color:"yellow.500",children:(0,J.jsx)(O.G,{icon:eh.faCircleInfo})})}):void 0,permissionsControl:(0,J.jsx)(nn,{isDisabled:!K,selected:e_,options:[A.y3$.Manage,A.y3$.Edit,A.y3$.Comment,A.y3$.View,o.NoAccess],onClick:function(e){var n={id:a.id,orgAccess:e===o.NoAccess?null:e};F({variables:n,optimisticResponse:{updateDoc:nw(nw({},n),{},{__typename:"Doc"})},refetchQueries:["GetDocs"]}).then(er(e===o.NoAccess?"removed":"updated"))}})}),B&&(null===(i=a.channels)||void 0===i?void 0:i.map(function(e){return(0,J.jsx)(eG,{channel:e,doc:a,isDisabled:!y,showDisabledIcon:H},e.id)})),!!a.orgAccess&&B&&!H&&(0,J.jsx)(p.xu,{w:"100%",mt:2,children:(0,J.jsx)(e$,{existingChannels:a.channels,workspaceId:r,docId:a.id,isDisabled:!y})}),(0,J.jsx)(eg.U,{in:B&&H,children:(0,J.jsxs)(eC.b,{status:"warning",children:[(0,J.jsx)(ey.z,{}),(0,J.jsx)(c.cC,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}})]})})]}),ei&&(0,J.jsx)(nx,{showDivider:u,children:ei.map(function(e){var n=e.permission===A.y3$.Manage&&et<2,t=!K||n,i=n?ev.ag._({id:"0q0LJR"}):void 0,o=ne[e.permission].title();if("DocCollaborator"===e.__typename){var s,c=e.user;return(0,J.jsx)(nl,{testId:c.email,title:"".concat(c.displayName," ").concat(c.id===l.id?ev.ag._({id:"dDUgzP"}):""),img:(0,J.jsx)(eO.q,{name:c.displayName,src:c.profileImageUrl,size:"sm"}),subtitle:t?void 0:c.email,isDisabled:t,disabledText:o,tooltipText:i,workspaceGuestInvite:!t&&e.guest?(0,J.jsx)(nO,{name:c.displayName,workspaceName:null===(s=a.organization)||void 0===s?void 0:s.name,workspaceId:r,email:e.user.email}):void 0,permissionsControl:(0,J.jsx)(nn,{isDisabled:t,selected:e.permission,options:[A.y3$.Manage,A.y3$.Edit,A.y3$.Comment,A.y3$.View],disabledOptions:e.guest?[{permission:A.y3$.Manage,reason:ev.ag._({id:"Rxin92"})}]:[],onClick:function(e){var n={docId:a.id,collaborators:[{userId:c.id,permission:e}]};D({variables:n,optimisticResponse:{addCollaborators:{id:n.docId,collaborators:ee.map(function(n){return nw(nw({},n),{},{permission:n.user.id===c.id?e:n.permission})}),invitations:en,__typename:"Doc"}}}).then(er("updated")).catch(function(){})},onRemove:function(){var e={docId:a.id,collaborators:[{userId:c.id}]};L({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:ee.filter(function(e){return e.user.id!==c.id}),invitations:en,__typename:"Doc"}}}).then(er("removed"))}})},c.id)}return"DocInvitation"===e.__typename?(0,J.jsx)(nl,{testId:e.email,title:e.email,subtitle:ev.ag._({id:"MActeE"}),img:(0,J.jsx)(p.Cd,{bg:"trueblue.50",size:8,children:(0,J.jsx)(O.G,{icon:em.FU,size:"sm"})}),isDisabled:t,disabledText:o,permissionsControl:(0,J.jsx)(nn,{selected:e.permission,options:[A.y3$.Manage,A.y3$.Edit,A.y3$.Comment,A.y3$.View],disabledOptions:[{permission:A.y3$.Manage,reason:ev.ag._({id:"Rxin92"})}],onClick:function(n){var t={docId:a.id,collaborators:[{email:e.email,permission:n}]};D({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,invitations:en.map(function(t){return nw(nw({},t),{},{permission:t.email===e.email?n:t.permission})}),collaborators:ee,__typename:"Doc"}}}).then(er("updated")).catch(function(){console.warn("Error updating permission")})},onRemove:function(){var n={docId:a.id,collaborators:[{email:e.email}]};L({variables:n,optimisticResponse:{removeCollaborators:{id:n.docId,invitations:en.filter(function(n){return n.email!==e.email}),collaborators:ee,__typename:"Doc"}}}).then(er("removed"))}})},e.email):null})}),u&&(0,J.jsxs)(nx,{showDivider:!1,children:[(0,J.jsx)(nl,{title:(0,J.jsx)(c.cC,{id:"qZu20V"}),subtitle:es?ev.ag._({id:"vMZPZT"}):(0,J.jsx)(nh,{subtitle:f[eo].subtitle,tooltipLabel:f[eo].tooltip,ariaLabel:f[eo].subtitle,icon:eh.faCircleInfo}),img:(0,J.jsx)(eM,{icon:ex.nN,showDisabled:es}),isDisabled:!K,disabledText:ne[eo].title(),permissionsControl:(0,J.jsx)(nn,{selected:eo,options:[A.y3$.Edit,A.y3$.Comment,A.y3$.View,o.NoAccess],onClick:function(e){var n=null==$?void 0:$.id,t={id:a.id,accessLinks:e===o.NoAccess?[{permission:null}]:[{permission:e}]};W({variables:t,optimisticResponse:{updateDoc:nw(nw({},t),{},{accessLinks:[{__typename:"AccessLink",id:n||"temp-id",permission:e===o.NoAccess?null:e}],__typename:"Doc"})}}).then(er(e===o.NoAccess?"removed":"updated"))}})}),(0,J.jsxs)(eg.U,{animateOpacity:!0,in:!!(null==$?void 0:$.permission),children:[(0,J.jsx)(eA.I,{url:q,customLabel:ev.ag._({id:"y1eoq1"}),onClick:function(){(0,ek.J)({docId:a.id,source:"sharePanel",type:"tokenUrl"})}}),!ec&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(eg.U,{in:g,unmountOnExit:!0,children:(0,J.jsxs)(N.g,{mt:3,align:"stretch",spacing:4,bg:"gray.50",p:6,borderRadius:"md",children:[(0,J.jsxs)(T.U,{spacing:4,align:"center",children:[(0,J.jsx)(p.xu,{color:"purple.600",children:(0,J.jsx)(O.G,{fixedWidth:!0,icon:eu._1})}),(0,J.jsx)(S.x,{fontSize:"sm",children:(0,J.jsx)(c.cC,{id:"asiJbp"})})]}),(0,J.jsxs)(T.U,{spacing:4,align:"center",children:[(0,J.jsx)(p.xu,{color:"purple.600",children:(0,J.jsx)(O.G,{fixedWidth:!0,icon:ed.Md})}),(0,J.jsx)(S.x,{fontSize:"sm",display:"inline-block",children:(0,J.jsx)(c.cC,{id:"+g8rkW",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc,GAMMA_PROPER_NOUN:G.N6}})})]}),eb&&(0,J.jsxs)(T.U,{spacing:4,align:"center",children:[(0,J.jsx)(p.xu,{color:"purple.600",children:(0,J.jsx)(O.G,{fixedWidth:!0,icon:el.FK})}),(0,J.jsx)(S.x,{fontSize:"sm",children:(0,J.jsx)(c.cC,{id:"NSCwrX",values:{GAMMA_PROPER_NOUN:G.N6,selectedAccessLinkPermission:eo},components:{0:(0,J.jsx)(S.x,{as:"span",fontWeight:"bold"})}})})]})]})}),(0,J.jsx)(C.k,{justify:"center",alignItems:"center",my:3,children:(0,J.jsxs)(T.U,{spacing:1,as:"button",onClick:function(){return b(!g)},children:[g?(0,J.jsx)(O.G,{fixedWidth:!0,size:"xs",icon:ef.on}):(0,J.jsx)(O.G,{fixedWidth:!0,size:"xs",icon:ep.r8}),(0,J.jsx)(S.x,{lineHeight:"normal",marginLeft:"auto",marginRight:"auto",fontSize:"xs",fontWeight:"medium",children:g?(0,J.jsx)(c.cC,{id:"BRvU04"}):(0,J.jsx)(c.cC,{id:"l0Ck42"})})]})})]})]})]})]})},nD=t(46802),nE=t(34638),nR=function(e){var n=e.visibility,t=e.isFromOtherOrg,i=(0,nE.ff)("white","var(--chakra-colors-gray-900)");return(0,J.jsxs)(J.Fragment,{children:[t&&(0,J.jsx)(O.G,{icon:nm.Gg}),(0,J.jsxs)(p.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,J.jsx)(O.G,{icon:n.primaryIcon}),n.secondaryIcon&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(O.G,{icon:nD.di,color:i,transform:"down-6 right-6"}),(0,J.jsx)(O.G,{icon:n.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})},nN=t(70110),nS=t(2046),nT=t(71193),nM=t(49294),nG=t(25793);function nL(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nU(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nL(Object(t),!0).forEach(function(n){(0,ec.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nL(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nz="embed-copied-toast",nZ=function(e){var n=e.embedCode,t=e.isDisabled,i=e.docId,r=(0,Y.p)(),o=(0,w.useState)(!1),s=o[0],a=o[1],l=(0,nM.V)(n),d=l.hasCopied,u=l.onCopy,p=(0,w.useRef)(null);(0,w.useEffect)(function(){p.current&&s&&(p.current.focus(),p.current.select())},[s]);var f=(0,w.useCallback)(function(){return a(!0)},[]),x=(0,w.useCallback)(function(){return a(!1)},[]),h=(0,w.useCallback)(function(){u(),r.isActive(nz)||r({id:nz,title:(0,J.jsx)(c.cC,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,ek.J)({docId:i,source:"sharePanel",type:"embed"})},[i,u,r]);return(0,J.jsxs)(N.g,{spacing:4,align:"stretch",children:[(0,J.jsx)(nG.g,{ref:p,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:t,onClick:f,onBlur:x,isReadOnly:!0,resize:"none",pointerEvents:t?"none":void 0,children:n}),(0,J.jsx)(g.z,nU(nU({alignSelf:"flex-end",onClick:h,isDisabled:t,size:"sm"},t?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{}),{},{children:d?(0,J.jsx)(c.cC,{id:"6V3Ea3"}):(0,J.jsx)(c.cC,{id:"Sx4kHi"})}))]})};function nF(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nV(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nF(Object(t),!0).forEach(function(n){(0,ec.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nF(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nW=function(e){var n=e.doc,t=e.isSharePublic,i=e.isConnected,r=e.onSharePanelOpen,s=e.onSharePanelClose,a=e.editor,l=(0,Y.p)(),d=(0,w.useState)(!!n.publicAccess),u=d[0],f=d[1],x=(0,A.o6I)(),h=(0,ea.Z)(x,1)[0],m=(0,w.useMemo)(function(){var e=(0,eR.Gn)({docId:n.id,docTitle:n.title,path:"public",absolute:!0});return t?e:(0,eR.lT)({docId:n.id,docTitle:n.title})},[n.id,n.title,t]),j=(0,w.useCallback)(function(e){f(e.target.checked);var t={id:n.id,publicAccess:e.target.checked?A.y3$.View:null};h({variables:t,optimisticResponse:{updateDoc:nV(nV({},t),{},{__typename:"Doc"})}}).then(function(){l({title:e.target.checked?ev.ag._({id:"OnQp1B"}):ev.ag._({id:"e5veeL"}),status:"success",duration:5e3,isClosable:!0,position:"top"})})},[n.id,l,h]),v=n.publicAccess?ne[A.y3$.View].title():ne[o.NoAccess].title(),b=t?(0,J.jsx)(c.cC,{id:"kGj/zu",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc},components:{0:(0,J.jsx)(S.x,{as:"span",borderBottom:"0.125em dashed",borderColor:"gray.400",cursor:"help"}),1:(0,J.jsx)(_.kH,{placement:"top",label:ev.ag._({id:"kni5pb",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}}),"aria-label":"public access is read only"})}}):(0,J.jsx)(c.cC,{id:"RmtWc6",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc}});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.600",pt:2,children:b}),(0,J.jsx)(nx,{showDivider:!1,children:(0,J.jsx)(nl,{title:(0,J.jsx)(c.cC,{id:"YsO5Wf"}),testId:"public-access",subtitle:(0,J.jsx)(nh,{subtitle:(0,J.jsx)(c.cC,{id:"oEQSnD"}),tooltipLabel:(0,I.tN)(),ariaLabel:ev.ag._({id:"oEQSnD"}),icon:eh.faCircleInfo}),img:(0,J.jsx)(eM,{icon:nN.Xj}),isDisabled:!i,disabledText:v,permissionsControl:(0,J.jsx)(nS.NI,{children:(0,J.jsx)(nT.r,{id:"public-access",isChecked:u,onChange:j})})})}),(0,J.jsx)(_.kH,{label:t?(0,J.jsx)(c.cC,{id:"RFk/SS"}):(0,J.jsx)(c.cC,{id:"4wpR4l"}),placement:"top",isDisabled:u,children:(0,J.jsx)(p.xu,{children:t?(0,J.jsx)(eA.I,{isDisabled:!n.publicAccess,url:m,customLabel:ev.ag._({id:"FO91Ip"}),onClick:function(){(0,ek.J)({docId:n.id,source:"sharePanel",type:"public"})}}):(0,J.jsx)(nZ,{embedCode:m,isDisabled:!u,docId:n.id})})}),t&&a&&(0,J.jsx)(S.x,{fontSize:"sm",color:"gray.500",mt:4,children:(0,J.jsx)(c.cC,{id:"a9n+CI",components:{0:(0,J.jsx)(g.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:function(){s(),en.pw.emit(en.TI.OPEN_PAGE_SETUP,"preview")}})}})}),(0,J.jsx)(ei.V,{onClose:s,onOpen:r,segmentEvent:B.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:n})]})},nY=function(e){var n,t=e.doc,i=e.editor,r=e.isSharePanelOpen,o=e.onSharePanelClose,D=e.onSharePanelOpen,E=e.onAnalyticsPanelOpen,R=e.view,N=e.setView,S=e.showAnalytics,T=e.showSharePublic,M=e.showEmbed,G=(0,w.useRef)(!1),L=(0,k.SE)(),U=L.user,z=L.currentWorkspace,Z=(0,A.$gs)().isConnected,F=(0,k.py)("manage",t),V=F&&E,W=(0,I.ei)({showSharePublic:void 0===T||T,showEmbed:void 0===M||M}),Y=(0,w.useState)(function(){return function(){return Promise.resolve()}}),$=Y[0],q=Y[1],K=(0,w.useCallback)(function(){$().then(function(){N("invite"),o()},function(){console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[N,o,$]),B=(0,w.useCallback)(function(){E&&(o(),E())},[E,o]);if(!U)return null;var H=(0,P.h_)(t,U),X=H?(0,P.Xp)()[H]:null,Q=(0,P.Gi)(t,z);if(t&&null===X)return console.error("[SharePanel] Unknown VisibilityValue for doc",t),null;var ee=null==t?void 0:null===(n=t.organization)||void 0===n?void 0:n.id;return!t||ee||G.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:t.id,organization:t.organization}),G.current=!0),(0,J.jsx)(_.Wk,{isDark:!1,children:(0,J.jsxs)(a.u_,{onEsc:K,isOpen:r,onClose:o,trapFocus:!1,size:"3xl",returnFocusOnClose:!1,children:[(0,J.jsx)(l.Z,{}),(0,J.jsxs)(d.h,{"data-share-panel-modal-content":!0,children:[(0,J.jsxs)(u.x,{children:[X&&(0,J.jsx)(p.xu,{as:"span",mr:3,children:(0,J.jsx)(nR,{visibility:X,isFromOtherOrg:Q})}),t?(0,J.jsx)(c.cC,{id:"xy569a",values:{0:t.title}}):(0,J.jsx)(c.cC,{id:"Z8lGw6"})]}),(0,J.jsx)(f.o,{"data-share-panel-close-button":!0,onClick:function(e){e.preventDefault(),K()}}),(0,J.jsx)(x.i,{}),t?(0,J.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:t&&ee&&(0,J.jsxs)(J.Fragment,{children:[F&&(0,J.jsx)(v.E,{my:4,children:W.map(function(e){var n=e.viewKey,t=e.icon,i=e.ariaLabel,r=e.label,o=R===n;return(0,J.jsx)(v.U,{children:(0,J.jsx)(g.z,{leftIcon:(0,J.jsx)(O.G,{icon:t,"aria-label":i}),variant:"ghost",size:"sm",fontWeight:"600",bg:o?"trueblue.50":"transparent",color:o?"trueblue.500":"gray.600",onClick:function(){return N(n)},children:r})},n)})}),(!F||"invite"==R)&&(0,J.jsx)(nk,{workspaceId:ee,doc:t,user:U,setVerifySearchDone:q,canManage:F,isFromOtherOrg:Q}),F&&("public"===R||"embed"===R)&&(0,J.jsx)(nW,{doc:t,isSharePublic:"public"==R,isConnected:Z,onSharePanelOpen:D,onSharePanelClose:o,editor:i}),F&&"export"===R&&(0,J.jsx)(er,{doc:t,editor:i,onSharePanelOpen:D,onSharePanelClose:o})]})}):(0,J.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:(0,J.jsxs)(m.K,{children:[(0,J.jsx)(j.O,{height:"55px"}),(0,J.jsx)(j.O,{height:"55px"}),(0,J.jsx)(j.O,{height:"55px"}),(0,J.jsx)(j.O,{height:"55px"})]})}),(0,J.jsx)(x.i,{}),(0,J.jsx)(b.m,{children:(0,J.jsxs)(C.k,{justifyContent:"space-between",flex:1,children:[(void 0===S||S)&&V&&(0,J.jsx)(g.z,{isDisabled:!Z,leftIcon:(0,J.jsx)(O.G,{icon:s.M}),variant:"ghost",onClick:B,children:(0,J.jsx)(c.cC,{id:"YaUqUV"})}),(0,J.jsx)(y.L,{}),(0,J.jsx)(g.z,{onClick:function(e){e.preventDefault(),K()},variant:"solid",children:(0,J.jsx)(c.cC,{id:"DPfwMq"})})]})})]})]})})}},34396:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(12741),r=t(81333),o=t(55452),s=t(55479),c=t(2784),a=t(23313),l=t(75085),d=t(52322),u=function(){var e=(0,s.p)(),n=(0,a.yx3)({refetchQueries:["GetChannelDocActivity","GetChannels"]}),t=(0,r.Z)(n,1)[0];return{addDocChannel:(0,c.useCallback)(function(n){var r=n.docId,s=n.doc,c=n.channel,u=n.existingChannels,p=void 0===u?[]:u,f=r||(null==s?void 0:s.id);if(!f){console.error("Invalid docid");return}var x={input:{docId:f,sharing:[{op:a.Bdm.Add,path:"/channels",value:[{channelId:c.id}]}]}},h=(null==s?void 0:s.title)||l.Yc,m=[].concat((0,i.Z)(p),[{id:c.id,slug:c.slug,name:c.name,permission:a.y3$.Comment}]).sort(function(e,n){return e.slug.localeCompare(n.slug,"en")});t({variables:x,update:function(e,n){var t=n.data;e.writeFragment({id:"Doc:".concat(f),fragment:a.IiT,data:null==t?void 0:t.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:x.input.docId,channels:m}}}).then(function(){e({title:(0,d.jsx)(o.cC,{id:"7hDHpt",values:{title:h}}),description:(0,d.jsx)(o.cC,{id:"A2xcFn",values:{0:c.name,GAMMA_ARTIFACT_PROPER_NOUN:l.Yc}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},function(n){e({title:(0,d.jsx)(o.cC,{id:"bLdU0Q",values:{0:c.name,title:h}}),description:n.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[t,e]),removeDocChannel:(0,c.useCallback)(function(n,i){if(i){var r,s={input:{docId:n.id,sharing:[{op:a.Bdm.Remove,path:"/channels",value:[{channelId:i}]}]}};t({variables:s,update:function(e,t){var i=t.data;e.writeFragment({id:"Doc:".concat(n.id),fragment:a.P6u,data:null==i?void 0:i.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:s.input.docId,channels:null===(r=n.channels)||void 0===r?void 0:r.filter(function(e){return e.id!==i})}}}).then(function(){e({title:(0,d.jsx)(o.cC,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:l.Yc}}),status:"success",duration:1e4,position:"top"})}).catch(function(n){e({title:(0,d.jsx)(o.cC,{id:"+yMzgs"}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",n.message)})}},[t,e])}}},92779:function(e,n,t){t.d(n,{Gi:function(){return b},Xp:function(){return O},h_:function(){return _},nZ:function(){return I},qw:function(){return w},uG:function(){return P}});var i=t(12741),r=t(95235),o=t(52622),s=t(11530),c=t(53110),a=t(70110),l=t(43794),d=t(60239),u=t(60670),p=t(76547),f=t(61751),x=t(55452),h=t(87254),m=t(75085),j=t(16092),v=t(51823),g=t(52322),b=function(e,n){var t;return(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.id)!==(null==n?void 0:n.id)},C={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},y=[C.ORG_VIEW,C.ORG_COMMENT,C.ORG_EDIT,C.ORG_MANAGE],O=function(){var e;return e={},(0,r.Z)(e,C.PRIVATE,{title:function(){return h.ag._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},subtitle:function(){return h.ag._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:c.by}),(0,r.Z)(e,C.LINK_VIEW,{title:function(){return h.ag._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.LINK_COMMENT,{title:function(){return h.ag._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.LINK_EDIT,{title:function(){return h.ag._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.INDIVIDUAL,{title:function(){return h.ag._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},subtitle:function(e){return"".concat(e," can access this ").concat(m.Yc,".")},primaryIcon:s.IL}),(0,r.Z)(e,C.ORG_VIEW,{title:function(e){return h.ag._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:p.Md}),(0,r.Z)(e,C.ORG_COMMENT,{title:function(e){return h.ag._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:u.Mz}),(0,r.Z)(e,C.ORG_EDIT,{title:function(e){return h.ag._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:d.Tz}),(0,r.Z)(e,C.ORG_MANAGE,{title:function(e){return h.ag._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8}),(0,r.Z)(e,C.CHANNEL_PRIVATE,{title:function(){return h.ag._({id:"Tw6Jzi"})},primaryIcon:j.Ty}),(0,r.Z)(e,C.PUBLIC,{title:function(){return h.ag._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:a.Xj}),e},_=function(e,n){var t;return e?null!=e&&e.publicAccess?C.PUBLIC:(null==e?void 0:e.orgAccess)==="manage"?C.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?C.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?C.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?C.ORG_VIEW:null!=e&&e.channels&&e.channels.some(function(e){return null!==e.permission})?C.CHANNEL_PRIVATE:null!=e&&e.collaborators&&(null==e?void 0:null===(t=e.collaborators)||void 0===t?void 0:t.length)>1?C.INDIVIDUAL:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"view"===e.permission&&""===e.token})?C.LINK_VIEW:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"comment"===e.permission&&""===e.token})?C.LINK_COMMENT:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"edit"===e.permission&&""===e.token})?C.LINK_EDIT:P(e,n)?C.PRIVATE:C.INDIVIDUAL:null},w=function(e){return null!=e&&e.publicAccess?h.ag._({id:"gJUdlS",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}}):null!=e&&e.orgAccess?h.ag._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}}):h.ag._({id:"QbKKqw",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},A=function(e,n,t){if(!n)return[];var r,d,u=(null==e?void 0:null===(r=e.channels)||void 0===r?void 0:r.map(function(e){var n=e.id,t=e.name,i=e.slug;return{id:n,label:t,href:(0,v.j)({id:n,slug:i}),icon:j.Ty}}))||[],p=_(e,n),f=b(e,t),h=f?[{id:"shared-from-external-org",label:null!=e&&null!==(d=e.organization)&&void 0!==d&&d.name?(0,g.jsx)(x.cC,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,g.jsx)(x.cC,{id:"qn35Ez"}),icon:l.Gg,color:"gray.500"}]:[];if(p===C.PUBLIC)return[{id:"public",label:(0,g.jsx)(x.cC,{id:"7d1a0d"}),icon:a.Xj,color:"gray.500"}].concat(h,(0,i.Z)(u));if(p===C.PRIVATE)return[{id:"private",label:(0,g.jsx)(x.cC,{id:"zwBp5t"}),icon:c.by,color:"gray.500"}].concat(h);if(p===C.INDIVIDUAL){var m=(e.collaborators||[]).filter(function(e){return e.user.id!==n.id}).length;return[{id:"collaborators",label:(0,g.jsx)(x.cC,{id:"o2NxSP",values:{numCollaborators:m}}),icon:s.IL,color:"gray.500"}].concat(h)}return f?h:p&&y.includes(p)?[{id:"workspace",label:(0,g.jsx)(x.cC,{id:"0Gd0NU"}),icon:o.P8,color:"gray.500"}].concat(h,(0,i.Z)(u)):u},I=function(e){var n=e.doc,t=e.user,i=e.currentWorkspace,r=e.channelToExclude;return A(n,t,i).filter(function(e){return e.id!==r})},P=function(e,n){var t;return e&&n&&!e.orgAccess&&!e.publicAccess&&(null===(t=e.createdBy)||void 0===t?void 0:t.id)===n.id}},27901:function(e,n,t){t.d(n,{M:function(){return D}});var i=t(20406),r=t(81333),o=t(28526),s=t.n(o),c=t(55452),a=t(87254),l=t(20010),d=t(56915),u=t(48273),p=t(92619),f=t(64827),x=t(2167),h=t(71354),m=t(2046),j=t(70287),v=t(27777),g=t(80353),b=t(76648),C=t(45650),y=t(55966),O=t(5632),_=t(2784),w=t(23313),A=t(76394),I=t(42879),P=t(10710),k=t(52322),D=function(e){var n=e.isOpen,t=e.onClose,o=e.existingDocId,D=(0,_.useRef)(null),E=(0,_.useState)(!1),R=E[0],N=E[1],S=(0,P.SE)().currentWorkspace,T=(0,_.useState)(""),M=T[0],G=T[1],L=(0,w.V$$)(),U=(0,r.Z)(L,1)[0],z=(0,w.VP0)(),Z=(0,r.Z)(z,1)[0],F=(0,A.b)(),V=(0,O.useRouter)().push,W=(0,_.useCallback)((0,i.Z)(s().mark(function e(){var n,t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return N(!0),Z({variables:{id:o,orgAccess:w.y3$.Manage,themeId:null}}),e.next=6,U({variables:{input:{workspaceId:null==S?void 0:S.id,name:M,domains:[],routes:[{docId:o,path:"/"}]}}});case 6:if(t=null==(n=e.sent.data)?void 0:n.createSite){e.next=12;break}return console.error("[CreateSiteModal] Failed to create site, no site returned"),e.abrupt("return");case 12:V((0,I.ri)(t.id,t.name)),N(!1);case 14:case"end":return e.stop()}},e)})),[U,null==S?void 0:S.id,o,M,V,Z]),Y=(0,_.useCallback)((0,i.Z)(s().mark(function e(){var n,t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,U({variables:{input:{workspaceId:null==S?void 0:S.id,name:M,domains:[],routes:[]}}});case 3:if(t=null==(n=e.sent.data)?void 0:n.createSite){e.next=9;break}return console.error("[CreateSiteModal] Failed to create site, no site returned"),e.abrupt("return");case 9:F({siteId:null==t?void 0:t.id,routes:null==t?void 0:t.routes,title:"Home",path:"/"}).then(function(){V((0,I.ri)(t.id,t.name)),N(!1)});case 10:case"end":return e.stop()}},e)})),[F,U,null==S?void 0:S.id,M,V]),$=(0,_.useCallback)((0,i.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o?W():Y());case 1:case"end":return e.stop()}},e)})),[o,W,Y]),q=M.length>0;return(0,k.jsx)(y.Wk,{isDark:!1,children:(0,k.jsxs)(l.u_,{isOpen:n,onClose:t,initialFocusRef:D,size:"2xl",children:[(0,k.jsx)(d.Z,{}),(0,k.jsxs)(u.h,{children:[(0,k.jsx)(p.x,{children:(0,k.jsx)(c.cC,{id:"JHMOcq"})}),(0,k.jsx)(f.o,{}),(0,k.jsx)(x.f,{children:(0,k.jsx)(h.K,{spacing:4,children:(0,k.jsxs)(m.NI,{children:[(0,k.jsx)(j.l,{children:(0,k.jsx)(c.cC,{id:"Lve3H6"})}),(0,k.jsx)(v.I,{ref:D,placeholder:a.ag._({id:"tlD7N3"}),onChange:function(e){G(e.target.value)},onKeyDown:function(e){q&&"Enter"===e.key&&$()}})]})})}),(0,k.jsx)(g.m,{children:(0,k.jsxs)(b.h,{children:[(0,k.jsx)(C.z,{variant:"ghost",onClick:t,children:(0,k.jsx)(c.cC,{id:"dEgA5A"})}),(0,k.jsx)(C.z,{variant:"solid",onClick:$,isDisabled:!q,isLoading:R,children:(0,k.jsx)(c.cC,{id:"JHMOcq"})})]})})]})]})})}},76394:function(e,n,t){t.d(n,{b:function(){return m}});var i=t(20406),r=t(81333),o=t(28526),s=t.n(o),c=t(5632),a=t(2784),l=t(23313),d=t(20252),u=t(42879),p=t(36738),f=t(95173),x=t(33295),h=t(3915),m=function(){var e,n=(0,h.SE)(),t=n.user,o=n.currentWorkspace,m=(0,l.CsQ)(),j=(0,r.Z)(m,1)[0],v=(0,l.qbt)(),g=(0,r.Z)(v,1)[0],b=(0,c.useRouter)().push;return(0,a.useCallback)((e=(0,i.Z)(s().mark(function e(n){var i,r,c,a,h,m,v,C,y;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.title,r=n.path,c=n.siteId,a=n.routes,r.startsWith("/")){e.next=4;break}return console.error("[AddNewPageToSite] Path must start with /. Aborting.",r),e.abrupt("return");case 4:if(!(!(null!=o&&o.id)||!c||!a)){e.next=6;break}return e.abrupt("return");case 6:return h=(0,p.R$)(t,{docFlags:{cardLayoutsEnabled:!0}}),m=(0,x.q)(h),e.next=10,j({variables:{workspaceId:null==o?void 0:o.id,title:i,source:l.L17.SitesAddPage,initialContent:{ydoc:m,schemaVersion:f.bI,editors:[null==t?void 0:t.id]},orgAccess:l.y3$.Manage}});case 10:if(C=null==(v=e.sent.data)?void 0:v.createDoc.id,(0,d.Q)({doc_id:C,source:l.L17.SitesAddPage,channel:null}),!(!c||!C)){e.next=17;break}return console.error("[AddPageModal] Site or doc id is undefined. Cannot add route."),e.abrupt("return");case 17:return e.next=19,g({variables:{input:{siteId:c,docId:C,path:r}},refetchQueries:["GetSite"]});case 19:return y=(0,u.as)(c,C),console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",C),e.next=23,b(y);case 23:return e.abrupt("return",C);case 24:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}),[g,j,null==o?void 0:o.id,b,t])}},87063:function(e,n,t){t.d(n,{e:function(){return v}});var i=t(95235),r=t(81333),o=t(55452),s=t(55479),c=t(5632),a=t(2784),l=t(23313),d=t(55562),u=t(32333),p=t(20252),f=t(10710),x=t(95173),h=t(33295),m=t(52322);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var v=function(){var e=(0,l.So6)({refetchQueries:["GetDocs"]}),n=(0,r.Z)(e,1)[0],t=(0,c.useRouter)().push,v=(0,s.p)(),g=(0,f.SE)(),b=g.user,C=g.currentWorkspace,y=(0,u.z$)();return(0,a.useCallback)(function(e){var r,s=e.docId,c=e.docTitle,a=e.initialContent,l=e.channelId,f=e.source,g=e.openThemeEditor,O=e.onSuccess,_=e.newWindow,w=null==b?void 0:null===(r=b.settings)||void 0===r?void 0:r.needsEditorOnboarding;if(!s)return Promise.reject(Error("Cannot duplicate without a docId"));var A=v({id:"duplicate-toast-".concat(s),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,m.jsx)(o.cC,{id:"OvEjsP"})});return b&&null!=C&&C.id?n({variables:{duplicateDocInput:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({orgId:null==C?void 0:C.id,sourceDocId:s,source:d.R[f],initialContent:a?{ydoc:(0,h.q)(a),schemaVersion:x.bI,editors:[null==b?void 0:b.id]}:void 0},l?{channels:[{channelId:l}]}:{})}}).then(function(e){if(!(null!=e&&null!==(n=e.data)&&void 0!==n&&n.duplicateDoc))throw Error("No data received");null==y||y.track(u.AA.EXAMPLE_DUPLICATED,{doc_id:s,title:c,source:f});var n,i,r=(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.duplicateDoc).id;(0,p.Q)({doc_id:r,source:f,source_doc_id:s}),console.debug("[Duplicate.".concat(f,"] Doc duplicated New doc id (").concat(r,"). Navigating to Editor")),v.update(A,{status:"success",description:(0,m.jsx)(o.cC,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});var a=g?"/docs/".concat(r).concat(g?"?openThemeEditor=true":""):w?"/docs/".concat(r,"?tour=true"):"/docs/".concat(r);_?window.open(a,"_blank"):t(a),O&&r&&O(r)},function(e){console.error("[Duplicate.".concat(f,"] Error duplicating doc:"),e.message),v.update(A,{title:(0,m.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(function(e){console.error("[Duplicate.".concat(f,"] Error duplicating doc:"),e.message),v.update(A,{title:(0,m.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(f,"] Cannot duplicate without a user or workspace"),{user:b}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==C?void 0:C.id,b,v,n,y,t])}}}]);
//# sourceMappingURL=4761-6320381cc2c824cd.js.map